(function(){function a(a,b){b.src?d.ajax({url:b.src,async:!1,dataType:"script"}):d.globalEval(b.text||b.textContent||b.innerHTML||"");b.parentNode&&b.parentNode.removeChild(b)}function b(){if(!w){w=!0;document.addEventListener&&!d.browser.opera&&document.addEventListener("DOMContentLoaded",d.ready,!1);d.browser.msie&&window==top&&function(){if(!d.isReady){try{document.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}d.ready()}}();d.browser.opera&&document.addEventListener("DOMContentLoaded",
function(){if(!d.isReady){for(var a=0;a<document.styleSheets.length;a++)if(document.styleSheets[a].disabled){setTimeout(arguments.callee,0);return}d.ready()}},!1);if(d.browser.safari){var a;(function(){d.isReady||("loaded"!=document.readyState&&"complete"!=document.readyState?setTimeout(arguments.callee,0):(void 0===a&&(a=d("style, link[rel=stylesheet]").length),document.styleSheets.length!=a?setTimeout(arguments.callee,0):d.ready()))})()}d.event.add(window,"load",d.ready)}}if(window.jQuery)var c=
window.jQuery;var d=window.jQuery=function(a,b){return new d.prototype.init(a,b)};if(window.$)var f=window.$;window.$=d;var g=/^[^<]*(<(.|\s)+>)[^>]*$|^#(\w+)$/,h=/^.[^:#\[\.]*$/;d.fn=d.prototype={init:function(a,b){a=a||document;if(a.nodeType)return this[0]=a,this.length=1,this;if("string"==typeof a){var c=g.exec(a);if(c&&(c[1]||!b))if(c[1])a=d.clean([c[1]],b);else{var n=document.getElementById(c[3]);if(n){if(n.id!=c[3])return d().find(a);this[0]=n;this.length=1;return this}a=[]}else return(new d(b)).find(a)}else if(d.isFunction(a))return(new d(document))[d.fn.ready?
"ready":"load"](a);return this.setArray(a.constructor==Array&&a||(a.jquery||a.length&&a!=window&&!a.nodeType&&void 0!=a[0]&&a[0].nodeType)&&d.makeArray(a)||[a])},jquery:"1.2.3",size:function(){return this.length},length:0,get:function(a){return void 0==a?d.makeArray(this):this[a]},pushStack:function(a){a=d(a);a.prevObject=this;return a},setArray:function(a){this.length=0;Array.prototype.push.apply(this,a);return this},each:function(a,b){return d.each(this,a,b)},index:function(a){var b=-1;this.each(function(d){this==
a&&(b=d)});return b},attr:function(a,b,c){var n=a;if(a.constructor==String){if(void 0==b)return this.length&&d[c||"attr"](this[0],a)||void 0;n={};n[a]=b}return this.each(function(b){for(a in n)d.attr(c?this.style:this,a,d.prop(this,n[a],c,b,a))})},css:function(a,b){if(("width"==a||"height"==a)&&0>parseFloat(b))b=void 0;return this.attr(a,b,"curCSS")},text:function(a){if("object"!=typeof a&&null!=a)return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(a));var b="";d.each(a||
this,function(){d.each(this.childNodes,function(){8!=this.nodeType&&(b+=1!=this.nodeType?this.nodeValue:d.fn.text([this]))})});return b},wrapAll:function(a){this[0]&&d(a,this[0].ownerDocument).clone().insertBefore(this[0]).map(function(){for(var a=this;a.firstChild;)a=a.firstChild;return a}).append(this);return this},wrapInner:function(a){return this.each(function(){d(this).contents().wrapAll(a)})},wrap:function(a){return this.each(function(){d(this).wrapAll(a)})},append:function(){return this.domManip(arguments,
!0,!1,function(a){this.nodeType==1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,!0,function(a){this.nodeType==1&&this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,!1,!1,function(a){this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,!1,!0,function(a){this.parentNode.insertBefore(a,this.nextSibling)})},end:function(){return this.prevObject||d([])},find:function(a){var b=d.map(this,function(b){return d.find(a,
b)});return this.pushStack(/[^+>] [^+>]/.test(a)||-1<a.indexOf("..")?d.unique(b):b)},clone:function(a){var b=this.map(function(){if(d.browser.msie&&!d.isXMLDoc(this)){var a=this.cloneNode(!0),b=document.createElement("div");b.appendChild(a);return d.clean([b.innerHTML])[0]}return this.cloneNode(!0)}),c=b.find("*").andSelf().each(function(){void 0!=this[i]&&(this[i]=null)});!0===a&&this.find("*").andSelf().each(function(a){if(3!=this.nodeType){var b=d.data(this,"events"),o;for(o in b)for(var p in b[o])d.event.add(c[a],
o,b[o][p],b[o][p].data)}});return b},filter:function(a){return this.pushStack(d.isFunction(a)&&d.grep(this,function(b,d){return a.call(b,d)})||d.multiFilter(a,this))},not:function(a){if(a.constructor==String){if(h.test(a))return this.pushStack(d.multiFilter(a,this,!0));a=d.multiFilter(a,this)}var b=a.length&&void 0!==a[a.length-1]&&!a.nodeType;return this.filter(function(){return b?0>d.inArray(this,a):this!=a})},add:function(a){return!a?this:this.pushStack(d.merge(this.get(),a.constructor==String?
d(a).get():void 0!=a.length&&(!a.nodeName||d.nodeName(a,"form"))?a:[a]))},is:function(a){return a?0<d.multiFilter(a,this).length:!1},hasClass:function(a){return this.is("."+a)},val:function(a){if(void 0==a){if(this.length){var b=this[0];if(d.nodeName(b,"select")){var c=b.selectedIndex,n=[],B=b.options,b="select-one"==b.type;if(0>c)return null;for(var f=b?c:0,c=b?c+1:B.length;f<c;f++){var h=B[f];if(h.selected){a=d.browser.msie&&!h.attributes.value.specified?h.text:h.value;if(b)return a;n.push(a)}}return n}return(this[0].value||
"").replace(/\r/g,"")}}else return this.each(function(){if(1==this.nodeType)if(a.constructor==Array&&/radio|checkbox/.test(this.type))this.checked=0<=d.inArray(this.value,a)||0<=d.inArray(this.name,a);else if(d.nodeName(this,"select")){var b=a.constructor==Array?a:[a];d("option",this).each(function(){this.selected=0<=d.inArray(this.value,b)||0<=d.inArray(this.text,b)});b.length||(this.selectedIndex=-1)}else this.value=a})},html:function(a){return void 0==a?this.length?this[0].innerHTML:null:this.empty().append(a)},
replaceWith:function(a){return this.after(a).remove()},eq:function(a){return this.slice(a,a+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments))},map:function(a){return this.pushStack(d.map(this,function(b,d){return a.call(b,d,b)}))},andSelf:function(){return this.add(this.prevObject)},data:function(a,b){var c=a.split(".");c[1]=c[1]?"."+c[1]:"";if(null==b){var n=this.triggerHandler("getData"+c[1]+"!",[c[0]]);void 0==n&&this.length&&(n=d.data(this[0],a));return null==
n&&c[1]?this.data(c[0]):n}return this.trigger("setData"+c[1]+"!",[c[0],b]).each(function(){d.data(this,a,b)})},removeData:function(a){return this.each(function(){d.removeData(this,a)})},domManip:function(b,c,v,n){var f=1<this.length,k;return this.each(function(){k||(k=d.clean(b,this.ownerDocument),v&&k.reverse());var h=this;c&&(d.nodeName(this,"table")&&d.nodeName(k[0],"tr"))&&(h=this.getElementsByTagName("tbody")[0]||this.appendChild(this.ownerDocument.createElement("tbody")));var j=d([]);d.each(k,
function(){var a=f?d(this).clone(true)[0]:this;if(d.nodeName(a,"script"))j=j.add(a);else{a.nodeType==1&&(j=j.add(d("script",a).remove()));n.call(h,a)}});j.each(a)})}};d.prototype.init.prototype=d.prototype;d.extend=d.fn.extend=function(){var a=arguments[0]||{},b=1,c=arguments.length,n=!1,f;a.constructor==Boolean&&(n=a,a=arguments[1]||{},b=2);"object"!=typeof a&&"function"!=typeof a&&(a={});1==c&&(a=this,b=0);for(;b<c;b++)if(null!=(f=arguments[b]))for(var k in f)a!==f[k]&&(n&&f[k]&&"object"==typeof f[k]&&
a[k]&&!f[k].nodeType?a[k]=d.extend(a[k],f[k]):void 0!=f[k]&&(a[k]=f[k]));return a};var i="jQuery"+(new Date).getTime(),m=0,s={},q=/z-?index|font-?weight|opacity|zoom|line-?height/i;d.extend({noConflict:function(a){window.$=f;a&&(window.jQuery=c);return d},isFunction:function(a){return!!a&&"string"!=typeof a&&!a.nodeName&&a.constructor!=Array&&/function/i.test(a+"")},isXMLDoc:function(a){return a.documentElement&&!a.body||a.tagName&&a.ownerDocument&&!a.ownerDocument.body},globalEval:function(a){if(a=
d.trim(a)){var b=document.getElementsByTagName("head")[0]||document.documentElement,c=document.createElement("script");c.type="text/javascript";d.browser.msie?c.text=a:c.appendChild(document.createTextNode(a));b.appendChild(c);b.removeChild(c)}},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()==b.toUpperCase()},cache:{},data:function(a,b,c){var a=a==window?s:a,n=a[i];n||(n=a[i]=++m);b&&!d.cache[n]&&(d.cache[n]={});void 0!=c&&(d.cache[n][b]=c);return b?d.cache[n][b]:n},removeData:function(a,
b){var a=a==window?s:a,c=a[i];if(b){if(d.cache[c]){delete d.cache[c][b];b="";for(b in d.cache[c])break;b||d.removeData(a)}}else{try{delete a[i]}catch(n){a.removeAttribute&&a.removeAttribute(i)}delete d.cache[c]}},each:function(a,b,d){if(d)if(void 0==a.length)for(var c in a){if(!1===b.apply(a[c],d))break}else{c=0;for(var f=a.length;c<f&&!1!==b.apply(a[c],d);c++);}else if(void 0==a.length)for(c in a){if(!1===b.call(a[c],c,a[c]))break}else{c=0;f=a.length;for(d=a[0];c<f&&!1!==b.call(d,c,d);d=a[++c]);
}return a},prop:function(a,b,c,n,f){d.isFunction(b)&&(b=b.call(a,n));return b&&b.constructor==Number&&"curCSS"==c&&!q.test(f)?b+"px":b},className:{add:function(a,b){d.each((b||"").split(/\s+/),function(b,c){1==a.nodeType&&!d.className.has(a.className,c)&&(a.className+=(a.className?" ":"")+c)})},remove:function(a,b){1==a.nodeType&&(a.className=void 0!=b?d.grep(a.className.split(/\s+/),function(a){return!d.className.has(b,a)}).join(" "):"")},has:function(a,b){return-1<d.inArray(b,(a.className||a).toString().split(/\s+/))}},
swap:function(a,b,d){var c={},f;for(f in b)c[f]=a.style[f],a.style[f]=b[f];d.call(a);for(f in b)a.style[f]=c[f]},css:function(a,b,c){if("width"==b||"height"==b){var n,c={position:"absolute",visibility:"hidden",display:"block"},f="width"==b?["Left","Right"]:["Top","Bottom"],k=function(){n="width"==b?a.offsetWidth:a.offsetHeight;var c=0,v=0;d.each(f,function(){c+=parseFloat(d.curCSS(a,"padding"+this,!0))||0;v+=parseFloat(d.curCSS(a,"border"+this+"Width",!0))||0});n-=Math.round(c+v)};d(a).is(":visible")?
k():d.swap(a,c,k);return Math.max(0,n)}return d.curCSS(a,b,c)},curCSS:function(a,b,c){function n(a){if(!d.browser.safari)return!1;a=document.defaultView.getComputedStyle(a,null);return!a||""==a.getPropertyValue("color")}var f;if("opacity"==b&&d.browser.msie)return f=d.attr(a.style,"opacity"),""==f?"1":f;if(d.browser.opera&&"display"==b){var k=a.style.outline;a.style.outline="0 solid black";a.style.outline=k}b.match(/float/i)&&(b=D);if(!c&&a.style&&a.style[b])f=a.style[b];else if(document.defaultView&&
document.defaultView.getComputedStyle){b.match(/float/i)&&(b="float");b=b.replace(/([A-Z])/g,"-$1").toLowerCase();if((f=document.defaultView.getComputedStyle(a,null))&&!n(a))f=f.getPropertyValue(b);else{c=[];for(k=[];a&&n(a);a=a.parentNode)k.unshift(a);for(a=0;a<k.length;a++)n(k[a])&&(c[a]=k[a].style.display,k[a].style.display="block");f="display"==b&&null!=c[k.length-1]?"none":f&&f.getPropertyValue(b)||"";for(a=0;a<c.length;a++)null!=c[a]&&(k[a].style.display=c[a])}"opacity"==b&&""==f&&(f="1")}else a.currentStyle&&
(f=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),f=a.currentStyle[b]||a.currentStyle[f],!/^\d+(px)?$/i.test(f)&&/^\d/.test(f)&&(b=a.style.left,c=a.runtimeStyle.left,a.runtimeStyle.left=a.currentStyle.left,a.style.left=f||0,f=a.style.pixelLeft+"px",a.style.left=b,a.runtimeStyle.left=c));return f},clean:function(a,b){var c=[],b=b||document;"undefined"==typeof b.createElement&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||document);d.each(a,function(a,o){if(o){o.constructor==Number&&(o=
o.toString());if("string"==typeof o){var o=o.replace(/(<(\w+)[^>]*?)\/>/g,function(a,b,d){return d.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?a:b+"></"+d+">"}),f=d.trim(o).toLowerCase(),h=b.createElement("div"),j=!f.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!f.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||f.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!f.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!f.indexOf("<td")||
!f.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!f.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||d.browser.msie&&[1,"div<div>","</div>"]||[0,"",""];for(h.innerHTML=j[1]+o+j[2];j[0]--;)h=h.lastChild;if(d.browser.msie){f=!f.indexOf("<table")&&0>f.indexOf("<tbody")?h.firstChild&&h.firstChild.childNodes:"<table>"==j[1]&&0>f.indexOf("<tbody")?h.childNodes:[];for(j=f.length-1;0<=j;--j)d.nodeName(f[j],"tbody")&&!f[j].childNodes.length&&f[j].parentNode.removeChild(f[j]);
/^\s/.test(o)&&h.insertBefore(b.createTextNode(o.match(/^\s*/)[0]),h.firstChild)}o=d.makeArray(h.childNodes)}0===o.length&&!d.nodeName(o,"form")&&!d.nodeName(o,"select")||(void 0==o[0]||d.nodeName(o,"form")||o.options?c.push(o):c=d.merge(c,o))}});return c},attr:function(a,b,c){if(a&&!(3==a.nodeType||8==a.nodeType)){var n=d.isXMLDoc(a)?{}:d.props;"selected"==b&&d.browser.safari&&a.parentNode.selectedIndex;if(n[b])return void 0!=c&&(a[n[b]]=c),a[n[b]];if(d.browser.msie&&"style"==b)return d.attr(a.style,
"cssText",c);if(void 0==c&&d.browser.msie&&d.nodeName(a,"form")&&("action"==b||"method"==b))return a.getAttributeNode(b).nodeValue;if(a.tagName){if(void 0!=c){if("type"==b&&d.nodeName(a,"input")&&a.parentNode)throw"type property can't be changed";a.setAttribute(b,""+c)}return d.browser.msie&&/href|src/.test(b)&&!d.isXMLDoc(a)?a.getAttribute(b,2):a.getAttribute(b)}if("opacity"==b&&d.browser.msie)return void 0!=c&&(a.zoom=1,a.filter=(a.filter||"").replace(/alpha\([^)]*\)/,"")+("NaN"==parseFloat(c).toString()?
"":"alpha(opacity="+100*c+")")),a.filter&&0<=a.filter.indexOf("opacity=")?(parseFloat(a.filter.match(/opacity=([^)]*)/)[1])/100).toString():"";b=b.replace(/-([a-z])/ig,function(a,b){return b.toUpperCase()});void 0!=c&&(a[b]=c);return a[b]}},trim:function(a){return(a||"").replace(/^\s+|\s+$/g,"")},makeArray:function(a){var b=[];if("array"!=typeof a)for(var d=0,c=a.length;d<c;d++)b.push(a[d]);else b=a.slice(0);return b},inArray:function(a,b){for(var d=0,c=b.length;d<c;d++)if(b[d]==a)return d;return-1},
merge:function(a,b){if(d.browser.msie)for(var c=0;b[c];c++)8!=b[c].nodeType&&a.push(b[c]);else for(c=0;b[c];c++)a.push(b[c]);return a},unique:function(a){var b=[],c={};try{for(var n=0,f=a.length;n<f;n++){var k=d.data(a[n]);c[k]||(c[k]=!0,b.push(a[n]))}}catch(h){b=a}return b},grep:function(a,b,d){for(var c=[],f=0,k=a.length;f<k;f++)(!d&&b(a[f],f)||d&&!b(a[f],f))&&c.push(a[f]);return c},map:function(a,b){for(var d=[],c=0,f=a.length;c<f;c++){var k=b(a[c],c);null!==k&&void 0!=k&&(k.constructor!=Array&&
(k=[k]),d=d.concat(k))}return d}});var l=navigator.userAgent.toLowerCase();d.browser={version:(l.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(l),opera:/opera/.test(l),msie:/msie/.test(l)&&!/opera/.test(l),mozilla:/mozilla/.test(l)&&!/(compatible|webkit)/.test(l)};var D=d.browser.msie?"styleFloat":"cssFloat";d.extend({boxModel:!d.browser.msie||"CSS1Compat"==document.compatMode,props:{"for":"htmlFor","class":"className","float":D,cssFloat:D,styleFloat:D,innerHTML:"innerHTML",
className:"className",value:"value",disabled:"disabled",checked:"checked",readonly:"readOnly",selected:"selected",maxlength:"maxLength",selectedIndex:"selectedIndex",defaultValue:"defaultValue",tagName:"tagName",nodeName:"nodeName"}});d.each({parent:function(a){return a.parentNode},parents:function(a){return d.dir(a,"parentNode")},next:function(a){return d.nth(a,2,"nextSibling")},prev:function(a){return d.nth(a,2,"previousSibling")},nextAll:function(a){return d.dir(a,"nextSibling")},prevAll:function(a){return d.dir(a,
"previousSibling")},siblings:function(a){return d.sibling(a.parentNode.firstChild,a)},children:function(a){return d.sibling(a.firstChild)},contents:function(a){return d.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:d.makeArray(a.childNodes)}},function(a,b){d.fn[a]=function(a){var c=d.map(this,b);a&&"string"==typeof a&&(c=d.multiFilter(a,c));return this.pushStack(d.unique(c))}});d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(a,b){d.fn[a]=function(){var a=arguments;return this.each(function(){for(var c=0,o=a.length;c<o;c++)d(a[c])[b](this)})}});d.each({removeAttr:function(a){d.attr(this,a,"");1==this.nodeType&&this.removeAttribute(a)},addClass:function(a){d.className.add(this,a)},removeClass:function(a){d.className.remove(this,a)},toggleClass:function(a){d.className[d.className.has(this,a)?"remove":"add"](this,a)},remove:function(a){if(!a||d.filter(a,[this]).r.length)d("*",this).add(this).each(function(){d.event.remove(this);
d.removeData(this)}),this.parentNode&&this.parentNode.removeChild(this)},empty:function(){for(d(">*",this).remove();this.firstChild;)this.removeChild(this.firstChild)}},function(a,b){d.fn[a]=function(){return this.each(b,arguments)}});d.each(["Height","Width"],function(a,b){var c=b.toLowerCase();d.fn[c]=function(a){return this[0]==window?d.browser.opera&&document.body["client"+b]||d.browser.safari&&window["inner"+b]||"CSS1Compat"==document.compatMode&&document.documentElement["client"+b]||document.body["client"+
b]:this[0]==document?Math.max(Math.max(document.body["scroll"+b],document.documentElement["scroll"+b]),Math.max(document.body["offset"+b],document.documentElement["offset"+b])):void 0==a?this.length?d.css(this[0],c):null:this.css(c,a.constructor==String?a:a+"px")}});var E=d.browser.safari&&417>parseInt(d.browser.version)?"(?:[\\w*_-]|\\\\.)":"(?:[\\w\u0128-\uffff*_-]|\\\\.)",M=RegExp("^>\\s*("+E+"+)"),t=RegExp("^("+E+"+)(#)("+E+"+)"),y=RegExp("^([#.]?)("+E+"*)");d.extend({expr:{"":function(a,b,c){return"*"==
c[2]||d.nodeName(a,c[2])},"#":function(a,b,d){return a.getAttribute("id")==d[2]},":":{lt:function(a,b,d){return b<d[3]-0},gt:function(a,b,d){return b>d[3]-0},nth:function(a,b,d){return d[3]-0==b},eq:function(a,b,d){return d[3]-0==b},first:function(a,b){return 0==b},last:function(a,b,d,c){return b==c.length-1},even:function(a,b){return 0==b%2},odd:function(a,b){return b%2},"first-child":function(a){return a.parentNode.getElementsByTagName("*")[0]==a},"last-child":function(a){return d.nth(a.parentNode.lastChild,
1,"previousSibling")==a},"only-child":function(a){return!d.nth(a.parentNode.lastChild,2,"previousSibling")},parent:function(a){return a.firstChild},empty:function(a){return!a.firstChild},contains:function(a,b,c){return 0<=(a.textContent||a.innerText||d(a).text()||"").indexOf(c[3])},visible:function(a){return"hidden"!=a.type&&"none"!=d.css(a,"display")&&"hidden"!=d.css(a,"visibility")},hidden:function(a){return"hidden"==a.type||"none"==d.css(a,"display")||"hidden"==d.css(a,"visibility")},enabled:function(a){return!a.disabled},
disabled:function(a){return a.disabled},checked:function(a){return a.checked},selected:function(a){return a.selected||d.attr(a,"selected")},text:function(a){return"text"==a.type},radio:function(a){return"radio"==a.type},checkbox:function(a){return"checkbox"==a.type},file:function(a){return"file"==a.type},password:function(a){return"password"==a.type},submit:function(a){return"submit"==a.type},image:function(a){return"image"==a.type},reset:function(a){return"reset"==a.type},button:function(a){return"button"==
a.type||d.nodeName(a,"button")},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},has:function(a,b,c){return d.find(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},animated:function(a){return d.grep(d.timers,function(b){return a==b.elem}).length}}},parse:[/^(\[) *@?([\w-]+) *([!*$^~=]*) *('?"?)(.*?)\4 *\]/,/^(:)([\w-]+)\("?'?(.*?(\(.*?\))?[^(]*?)"?'?\)/,RegExp("^([:.#]*)("+E+"+)")],multiFilter:function(a,b,c){for(var f,h=[];a&&a!=f;){f=a;var k=d.filter(a,
b,c),a=k.t.replace(/^\s*,\s*/,""),h=c?b=k.r:d.merge(h,k.r)}return h},find:function(a,b){if("string"!=typeof a)return[a];if(b&&1!=b.nodeType&&9!=b.nodeType)return[];for(var b=b||document,c=[b],f=[],h,k;a&&h!=a;){var j=[];h=a;a=d.trim(a);k=!1;var g=M,i=g.exec(a);if(i){k=i[1].toUpperCase();for(var l=0;c[l];l++)for(i=c[l].firstChild;i;i=i.nextSibling)1==i.nodeType&&("*"==k||i.nodeName.toUpperCase()==k)&&j.push(i);c=j;a=a.replace(g,"");if(0==a.indexOf(" "))continue;k=!0}else if(g=/^([>+~])\s*(\w*)/i,null!=
(i=g.exec(a))){j=[];l={};k=i[2].toUpperCase();for(var i=i[1],q=0,m=c.length;q<m;q++)for(var u="~"==i||"+"==i?c[q].nextSibling:c[q].firstChild;u;u=u.nextSibling)if(1==u.nodeType){var r=d.data(u);if("~"==i&&l[r])break;if(!k||u.nodeName.toUpperCase()==k)"~"==i&&(l[r]=!0),j.push(u);if("+"==i)break}c=j;a=d.trim(a.replace(g,""));k=!0}if(a&&!k)if(a.indexOf(",")){g=t;(i=g.exec(a))?i=[0,i[2],i[3],i[1]]:(g=y,i=g.exec(a));i[2]=i[2].replace(/\\/g,"");k=c[c.length-1];if("#"==i[1]&&k&&k.getElementById&&!d.isXMLDoc(k)){c=
k.getElementById(i[2]);if((d.browser.msie||d.browser.opera)&&c&&"string"==typeof c.id&&c.id!=i[2])c=d('[@id="'+i[2]+'"]',k)[0];c=j=c&&(!i[3]||d.nodeName(c,i[3]))?[c]:[]}else{for(l=0;c[l];l++)k="#"==i[1]&&i[3]?i[3]:""!=i[1]||""==i[0]?"*":i[2],"*"==k&&"object"==c[l].nodeName.toLowerCase()&&(k="param"),j=d.merge(j,c[l].getElementsByTagName(k));"."==i[1]&&(j=d.classFilter(j,i[2]));if("#"==i[1]){c=[];for(l=0;j[l];l++)if(j[l].getAttribute("id")==i[2]){c=[j[l]];break}j=c}c=j}a=a.replace(g,"")}else b==c[0]&&
c.shift(),f=d.merge(f,c),j=c=[b],a=" "+a.substr(1,a.length);a&&(j=d.filter(a,j),c=j.r,a=d.trim(j.t))}a&&(c=[]);c&&b==c[0]&&c.shift();return f=d.merge(f,c)},classFilter:function(a,b,d){for(var b=" "+b+" ",c=[],f=0;a[f];f++){var j=0<=(" "+a[f].className+" ").indexOf(b);(!d&&j||d&&!j)&&c.push(a[f])}return c},filter:function(a,b,c){for(var f;a&&a!=f;){f=a;for(var j=d.parse,k,g=0;j[g];g++)if(k=j[g].exec(a)){a=a.substring(k[0].length);k[2]=k[2].replace(/\\/g,"");break}if(!k)break;if(":"==k[1]&&"not"==k[2])b=
h.test(k[3])?d.filter(k[3],b,!0).r:d(b).not(k[3]);else if("."==k[1])b=d.classFilter(b,k[2],c);else if("["==k[1]){for(var j=[],i=k[3],g=0,l=b.length;g<l;g++){var q=b[g],m=q[d.props[k[2]]||k[2]];if(null==m||/href|src|selected/.test(k[2]))m=d.attr(q,k[2])||"";(""==i&&!!m||"="==i&&m==k[5]||"!="==i&&m!=k[5]||"^="==i&&m&&!m.indexOf(k[5])||"$="==i&&m.substr(m.length-k[5].length)==k[5]||("*="==i||"~="==i)&&0<=m.indexOf(k[5]))^c&&j.push(q)}b=j}else if(":"==k[1]&&"nth-child"==k[2]){i={};j=[];f=/(-?)(\d*)n((?:\+|-)?\d*)/.exec("even"==
k[3]&&"2n"||"odd"==k[3]&&"2n+1"||!/\D/.test(k[3])&&"0n+"+k[3]||k[3]);q=f[1]+(f[2]||1)-0;f=f[3]-0;g=0;for(l=b.length;g<l;g++){var m=b[g],s=m.parentNode,u=d.data(s);if(!i[u]){for(var r=1,s=s.firstChild;s;s=s.nextSibling)1==s.nodeType&&(s.nodeIndex=r++);i[u]=!0}u=!1;0==q?m.nodeIndex==f&&(u=!0):0==(m.nodeIndex-f)%q&&0<=(m.nodeIndex-f)/q&&(u=!0);u^c&&j.push(m)}b=j}else{var t=d.expr[k[1]];"object"==typeof t&&(t=t[k[2]]);"string"==typeof t&&(t=eval("false||function(a,i){return "+t+";}"));b=d.grep(b,function(a,
d){return t(a,d,k,b)},c)}}return{r:b,t:a}},dir:function(a,b){for(var d=[],c=a[b];c&&c!=document;)1==c.nodeType&&d.push(c),c=c[b];return d},nth:function(a,b,d){for(var b=b||1,c=0;a&&!(1==a.nodeType&&++c==b);a=a[d]);return a},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)1==a.nodeType&&(!b||a!=b)&&d.push(a);return d}});d.event={add:function(a,b,c,f){if(!(3==a.nodeType||8==a.nodeType)){d.browser.msie&&void 0!=a.setInterval&&(a=window);c.guid||(c.guid=this.guid++);if(void 0!=f){var j=c,c=function(){return j.apply(this,
arguments)};c.data=f;c.guid=j.guid}var h=d.data(a,"events")||d.data(a,"events",{}),g=d.data(a,"handle")||d.data(a,"handle",function(){var a;if(typeof d=="undefined"||d.event.triggered)return a;return a=d.event.handle.apply(arguments.callee.elem,arguments)});g.elem=a;d.each(b.split(/\s+/),function(b,f){var p=f.split("."),f=p[0];c.type=p[1];p=h[f];if(!p){p=h[f]={};if(!d.event.special[f]||d.event.special[f].setup.call(a)===false)a.addEventListener?a.addEventListener(f,g,false):a.attachEvent&&a.attachEvent("on"+
f,g)}p[c.guid]=c;d.event.global[f]=true});a=null}},guid:1,global:{},remove:function(a,b,c){if(!(3==a.nodeType||8==a.nodeType)){var f=d.data(a,"events"),j;if(f){if(void 0==b||"string"==typeof b&&"."==b.charAt(0))for(var h in f)this.remove(a,h+(b||""));else b.type&&(c=b.handler,b=b.type),d.each(b.split(/\s+/),function(b,p){var h=p.split("."),p=h[0];if(f[p]){if(c)delete f[p][c.guid];else for(c in f[p])(!h[1]||f[p][c].type==h[1])&&delete f[p][c];for(j in f[p])break;if(!j){if(!d.event.special[p]||d.event.special[p].teardown.call(a)===
false)a.removeEventListener?a.removeEventListener(p,d.data(a,"handle"),false):a.detachEvent&&a.detachEvent("on"+p,d.data(a,"handle"));j=null;delete f[p]}}});for(j in f)break;if(!j){if(b=d.data(a,"handle"))b.elem=null;d.removeData(a,"events");d.removeData(a,"handle")}}}},trigger:function(a,b,c,f,j){b=d.makeArray(b||[]);if(0<=a.indexOf("!"))var a=a.slice(0,-1),h=!0;if(c){if(3==c.nodeType||8==c.nodeType)return;var g,i=d.isFunction(c[a]||null),l=!b[0]||!b[0].preventDefault;l&&b.unshift(this.fix({type:a,
target:c}));b[0].type=a;h&&(b[0].exclusive=!0);d.isFunction(d.data(c,"handle"))&&(g=d.data(c,"handle").apply(c,b));!i&&(c["on"+a]&&!1===c["on"+a].apply(c,b))&&(g=!1);l&&b.shift();j&&d.isFunction(j)&&(b=j.apply(c,null==g?b:b.concat(g)),void 0!==b&&(g=b));if(i&&!1!==f&&!1!==g&&!(d.nodeName(c,"a")&&"click"==a)){this.triggered=!0;try{c[a]()}catch(m){}}this.triggered=!1}else this.global[a]&&d("*").add([window,document]).trigger(a,b);return g},handle:function(a){var b,a=d.event.fix(a||window.event||{}),
c=a.type.split(".");a.type=c[0];var f=d.data(this,"events")&&d.data(this,"events")[a.type],j=Array.prototype.slice.call(arguments,1);j.unshift(a);for(var h in f){var g=f[h];j[0].handler=g;j[0].data=g.data;if(!c[1]&&!a.exclusive||g.type==c[1])g=g.apply(this,j),!1!==b&&(b=g),!1===g&&(a.preventDefault(),a.stopPropagation())}d.browser.msie&&(a.target=a.preventDefault=a.stopPropagation=a.handler=a.data=null);return b},fix:function(a){var b=a,a=d.extend({},b);a.preventDefault=function(){b.preventDefault&&
b.preventDefault();b.returnValue=!1};a.stopPropagation=function(){b.stopPropagation&&b.stopPropagation();b.cancelBubble=!0};a.target||(a.target=a.srcElement||document);3==a.target.nodeType&&(a.target=b.target.parentNode);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement==a.target?a.toElement:a.fromElement);if(null==a.pageX&&null!=a.clientX){var c=document.documentElement,f=document.body;a.pageX=a.clientX+(c&&c.scrollLeft||f&&f.scrollLeft||0)-(c.clientLeft||0);a.pageY=a.clientY+(c&&c.scrollTop||
f&&f.scrollTop||0)-(c.clientTop||0)}if(!a.which&&(a.charCode||0===a.charCode?a.charCode:a.keyCode))a.which=a.charCode||a.keyCode;!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey);!a.which&&a.button&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},special:{ready:{setup:function(){b()},teardown:function(){}},mouseenter:{setup:function(){if(d.browser.msie)return!1;d(this).bind("mouseover",d.event.special.mouseenter.handler);return!0},teardown:function(){if(d.browser.msie)return!1;d(this).unbind("mouseover",
d.event.special.mouseenter.handler);return!0},handler:function(a){if(z(a,this))return!0;arguments[0].type="mouseenter";return d.event.handle.apply(this,arguments)}},mouseleave:{setup:function(){if(d.browser.msie)return!1;d(this).bind("mouseout",d.event.special.mouseleave.handler);return!0},teardown:function(){if(d.browser.msie)return!1;d(this).unbind("mouseout",d.event.special.mouseleave.handler);return!0},handler:function(a){if(z(a,this))return!0;arguments[0].type="mouseleave";return d.event.handle.apply(this,
arguments)}}}};d.fn.extend({bind:function(a,b,c){return"unload"==a?this.one(a,b,c):this.each(function(){d.event.add(this,a,c||b,c&&b)})},one:function(a,b,c){return this.each(function(){d.event.add(this,a,function(a){d(this).unbind(a);return(c||b).apply(this,arguments)},c&&b)})},unbind:function(a,b){return this.each(function(){d.event.remove(this,a,b)})},trigger:function(a,b,c){return this.each(function(){d.event.trigger(a,b,this,!0,c)})},triggerHandler:function(a,b,c){if(this[0])return d.event.trigger(a,
b,this[0],!1,c)},toggle:function(){var a=arguments;return this.click(function(b){this.lastToggle=0==this.lastToggle?1:0;b.preventDefault();return a[this.lastToggle].apply(this,arguments)||!1})},hover:function(a,b){return this.bind("mouseenter",a).bind("mouseleave",b)},ready:function(a){b();d.isReady?a.call(document,d):d.readyList.push(function(){return a.call(this,d)});return this}});d.extend({isReady:!1,readyList:[],ready:function(){d.isReady||(d.isReady=!0,d.readyList&&(d.each(d.readyList,function(){this.apply(document)}),
d.readyList=null),d(document).triggerHandler("ready"))}});var w=!1;d.each("blur focus load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout change select submit keydown keypress keyup error".split(" "),function(a,b){d.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)}});var z=function(a,b){for(var d=a.relatedTarget;d&&d!=b;)try{d=d.parentNode}catch(c){d=b}return d==b};d(window).bind("unload",function(){d("*").add(document).unbind()});d.fn.extend({load:function(a,
b,c){if(d.isFunction(a))return this.bind("load",a);var f=a.indexOf(" ");if(0<=f)var j=a.slice(f,a.length),a=a.slice(0,f);c=c||function(){};f="GET";b&&(d.isFunction(b)?(c=b,b=null):(b=d.param(b),f="POST"));var h=this;d.ajax({url:a,type:f,dataType:"html",data:b,complete:function(a,b){if(b=="success"||b=="notmodified")h.html(j?d("<div/>").append(a.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(j):a.responseText);h.each(c,[a.responseText,b,a])}});return this},serialize:function(){return d.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){return d.nodeName(this,"form")?d.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))}).map(function(a,b){var c=d(this).val();return null==c?null:c.constructor==Array?d.map(c,function(a){return{name:b.name,value:a}}):{name:b.name,value:c}}).get()}});d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,b){d.fn[b]=function(a){return this.bind(b,a)}});var K=(new Date).getTime();d.extend({get:function(a,b,c,f){d.isFunction(b)&&(c=b,b=null);return d.ajax({type:"GET",url:a,data:b,success:c,dataType:f})},getScript:function(a,b){return d.get(a,null,b,"script")},getJSON:function(a,b,c){return d.get(a,b,c,"json")},post:function(a,b,c,f){d.isFunction(b)&&(c=b,b={});return d.ajax({type:"POST",url:a,data:b,success:c,dataType:f})},ajaxSetup:function(a){d.extend(d.ajaxSettings,a)},ajaxSettings:{global:!0,
type:"GET",timeout:0,contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,data:null,username:null,password:null,accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(a){function b(){a.success&&a.success(g,h);a.global&&d.event.trigger("ajaxSuccess",[u,a])}function c(){a.complete&&a.complete(u,h);a.global&&d.event.trigger("ajaxComplete",
[u,a]);a.global&&!--d.active&&d.event.trigger("ajaxStop")}var f,j=/=\?(&|$)/g,h,g,a=d.extend(!0,a,d.extend(!0,{},d.ajaxSettings,a));a.data&&(a.processData&&"string"!=typeof a.data)&&(a.data=d.param(a.data));if("jsonp"==a.dataType){if("get"==a.type.toLowerCase())a.url.match(j)||(a.url+=(a.url.match(/\?/)?"&":"?")+(a.jsonp||"callback")+"=?");else if(!a.data||!a.data.match(j))a.data=(a.data?a.data+"&":"")+(a.jsonp||"callback")+"=?";a.dataType="json"}if("json"==a.dataType&&(a.data&&a.data.match(j)||a.url.match(j)))f=
"jsonp"+K++,a.data&&(a.data=(a.data+"").replace(j,"="+f+"$1")),a.url=a.url.replace(j,"="+f+"$1"),a.dataType="script",window[f]=function(a){g=a;b();c();window[f]=void 0;try{delete window[f]}catch(d){}l&&l.removeChild(m)};"script"==a.dataType&&null==a.cache&&(a.cache=!1);if(!1===a.cache&&"get"==a.type.toLowerCase()){var j=(new Date).getTime(),i=a.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+j+"$2");a.url=i+(i==a.url?(a.url.match(/\?/)?"&":"?")+"_="+j:"")}a.data&&"get"==a.type.toLowerCase()&&(a.url+=(a.url.match(/\?/)?
"&":"?")+a.data,a.data=null);a.global&&!d.active++&&d.event.trigger("ajaxStart");if((!a.url.indexOf("http")||!a.url.indexOf("//"))&&"script"==a.dataType&&"get"==a.type.toLowerCase()){var l=document.getElementsByTagName("head")[0],m=document.createElement("script");m.src=a.url;a.scriptCharset&&(m.charset=a.scriptCharset);if(!f){var q=!1;m.onload=m.onreadystatechange=function(){if(!q&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){q=true;b();c();l.removeChild(m)}}}l.appendChild(m)}else{var s=
!1,u=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;u.open(a.type,a.url,a.async,a.username,a.password);try{a.data&&u.setRequestHeader("Content-Type",a.contentType),a.ifModified&&u.setRequestHeader("If-Modified-Since",d.lastModified[a.url]||"Thu, 01 Jan 1970 00:00:00 GMT"),u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.setRequestHeader("Accept",a.dataType&&a.accepts[a.dataType]?a.accepts[a.dataType]+", */*":a.accepts._default)}catch(r){}a.beforeSend&&a.beforeSend(u);
a.global&&d.event.trigger("ajaxSend",[u,a]);var t=function(j){if(!s&&u&&(u.readyState==4||j=="timeout")){s=true;if(D){clearInterval(D);D=null}h=j=="timeout"&&"timeout"||!d.httpSuccess(u)&&"error"||a.ifModified&&d.httpNotModified(u,a.url)&&"notmodified"||"success";if(h=="success")try{g=d.httpData(u,a.dataType)}catch(i){h="parsererror"}if(h=="success"){var B;try{B=u.getResponseHeader("Last-Modified")}catch(l){}a.ifModified&&B&&(d.lastModified[a.url]=B);f||b()}else d.handleError(a,u,h);c();a.async&&
(u=null)}};if(a.async){var D=setInterval(t,13);0<a.timeout&&setTimeout(function(){if(u){u.abort();s||t("timeout")}},a.timeout)}try{u.send(a.data)}catch(y){d.handleError(a,u,null,y)}a.async||t();return u}},handleError:function(a,b,c,f){a.error&&a.error(b,c,f);a.global&&d.event.trigger("ajaxError",[b,a,f])},active:0,httpSuccess:function(a){try{return!a.status&&"file:"==location.protocol||200<=a.status&&300>a.status||304==a.status||1223==a.status||d.browser.safari&&void 0==a.status}catch(b){}return!1},
httpNotModified:function(a,b){try{var c=a.getResponseHeader("Last-Modified");return 304==a.status||c==d.lastModified[b]||d.browser.safari&&void 0==a.status}catch(f){}return!1},httpData:function(a,b){var c=a.getResponseHeader("content-type"),f=(c="xml"==b||!b&&c&&0<=c.indexOf("xml"))?a.responseXML:a.responseText;if(c&&"parsererror"==f.documentElement.tagName)throw"parsererror";"script"==b&&d.globalEval(f);"json"==b&&(f=eval("("+f+")"));return f},param:function(a){var b=[];if(a.constructor==Array||
a.jquery)d.each(a,function(){b.push(encodeURIComponent(this.name)+"="+encodeURIComponent(this.value))});else for(var c in a)a[c]&&a[c].constructor==Array?d.each(a[c],function(){b.push(encodeURIComponent(c)+"="+encodeURIComponent(this))}):b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&").replace(/%20/g,"+")}});d.fn.extend({show:function(a,b){return a?this.animate({height:"show",width:"show",opacity:"show"},a,b):this.filter(":hidden").each(function(){this.style.display=this.oldblock||
"";if("none"==d.css(this,"display")){var a=d("<"+this.tagName+" />").appendTo("body");this.style.display=a.css("display");"none"==this.style.display&&(this.style.display="block");a.remove()}}).end()},hide:function(a,b){return a?this.animate({height:"hide",width:"hide",opacity:"hide"},a,b):this.filter(":visible").each(function(){this.oldblock=this.oldblock||d.css(this,"display");this.style.display="none"}).end()},_toggle:d.fn.toggle,toggle:function(a,b){return d.isFunction(a)&&d.isFunction(b)?this._toggle(a,
b):a?this.animate({height:"toggle",width:"toggle",opacity:"toggle"},a,b):this.each(function(){d(this)[d(this).is(":hidden")?"show":"hide"]()})},slideDown:function(a,b){return this.animate({height:"show"},a,b)},slideUp:function(a,b){return this.animate({height:"hide"},a,b)},slideToggle:function(a,b){return this.animate({height:"toggle"},a,b)},fadeIn:function(a,b){return this.animate({opacity:"show"},a,b)},fadeOut:function(a,b){return this.animate({opacity:"hide"},a,b)},fadeTo:function(a,b,c){return this.animate({opacity:b},
a,c)},animate:function(a,b,c,f){var j=d.speed(b,c,f);return this[!1===j.queue?"each":"queue"](function(){if(1!=this.nodeType)return!1;var b=d.extend({},j),c=d(this).is(":hidden"),f=this,h;for(h in a){if("hide"==a[h]&&c||"show"==a[h]&&!c)return d.isFunction(b.complete)&&b.complete.apply(this);if("height"==h||"width"==h)b.display=d.css(this,"display"),b.overflow=this.style.overflow}null!=b.overflow&&(this.style.overflow="hidden");b.curAnim=d.extend({},a);d.each(a,function(j,h){var p=new d.fx(f,b,j);
if(/toggle|show|hide/.test(h))p[h=="toggle"?c?"show":"hide":h](a);else{var n=h.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),v=p.cur(true)||0;if(n){var g=parseFloat(n[2]),i=n[3]||"px";if(i!="px"){f.style[j]=(g||1)+i;v=(g||1)/p.cur(true)*v;f.style[j]=v+i}n[1]&&(g=(n[1]=="-="?-1:1)*g+v);p.custom(v,g,i)}else p.custom(v,h,"")}});return!0})},queue:function(a,b){if(d.isFunction(a)||a&&a.constructor==Array)b=a,a="fx";return!a||"string"==typeof a&&!b?j(this[0],a):this.each(function(){b.constructor==Array?
j(this,a,b):(j(this,a).push(b),1==j(this,a).length&&b.apply(this))})},stop:function(a,b){var c=d.timers;a&&this.queue([]);this.each(function(){for(var a=c.length-1;0<=a;a--)if(c[a].elem==this){if(b)c[a](!0);c.splice(a,1)}});b||this.dequeue();return this}});var j=function(a,b,c){if(a){var b=b||"fx",f=d.data(a,b+"queue");if(!f||c)f=d.data(a,b+"queue",c?d.makeArray(c):[]);return f}};d.fn.dequeue=function(a){a=a||"fx";return this.each(function(){var b=j(this,a);b.shift();b.length&&b[0].apply(this)})};
d.extend({speed:function(a,b,c){var f=a&&a.constructor==Object?a:{complete:c||!c&&b||d.isFunction(a)&&a,duration:a,easing:c&&b||b&&b.constructor!=Function&&b};f.duration=(f.duration&&f.duration.constructor==Number?f.duration:{slow:600,fast:200}[f.duration])||400;f.old=f.complete;f.complete=function(){!1!==f.queue&&d(this).dequeue();d.isFunction(f.old)&&f.old.apply(this)};return f},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+0.5)*d+c}},timers:[],
timerId:null,fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig||(b.orig={})}});d.fx.prototype={update:function(){this.options.step&&this.options.step.apply(this.elem,[this.now,this]);(d.fx.step[this.prop]||d.fx.step._default)(this);if("height"==this.prop||"width"==this.prop)this.elem.style.display="block"},cur:function(a){return null!=this.elem[this.prop]&&null==this.elem.style[this.prop]?this.elem[this.prop]:(a=parseFloat(d.css(this.elem,this.prop,a)))&&-1E4<a?a:parseFloat(d.curCSS(this.elem,
this.prop))||0},custom:function(a,b,c){function f(a){return j.step(a)}this.startTime=(new Date).getTime();this.start=a;this.end=b;this.unit=c||this.unit||"px";this.now=this.start;this.pos=this.state=0;this.update();var j=this;f.elem=this.elem;d.timers.push(f);null==d.timerId&&(d.timerId=setInterval(function(){for(var a=d.timers,b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||(clearInterval(d.timerId),d.timerId=null)},13))},show:function(){this.options.orig[this.prop]=d.attr(this.elem.style,this.prop);
this.options.show=!0;this.custom(0,this.cur());if("width"==this.prop||"height"==this.prop)this.elem.style[this.prop]="1px";d(this.elem).show()},hide:function(){this.options.orig[this.prop]=d.attr(this.elem.style,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var b=(new Date).getTime();if(a||b>this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();var a=this.options.curAnim[this.prop]=!0,c;for(c in this.options.curAnim)!0!==this.options.curAnim[c]&&
(a=!1);if(a&&(null!=this.options.display&&(this.elem.style.overflow=this.options.overflow,this.elem.style.display=this.options.display,"none"==d.css(this.elem,"display")&&(this.elem.style.display="block")),this.options.hide&&(this.elem.style.display="none"),this.options.hide||this.options.show))for(var f in this.options.curAnim)d.attr(this.elem.style,f,this.options.orig[f]);a&&d.isFunction(this.options.complete)&&this.options.complete.apply(this.elem);return!1}c=b-this.startTime;this.state=c/this.options.duration;
this.pos=d.easing[this.options.easing||(d.easing.swing?"swing":"linear")](this.state,c,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update();return!0}};d.fx.step={scrollLeft:function(a){a.elem.scrollLeft=a.now},scrollTop:function(a){a.elem.scrollTop=a.now},opacity:function(a){d.attr(a.elem.style,"opacity",a.now)},_default:function(a){a.elem.style[a.prop]=a.now+a.unit}};d.fn.offset=function(){function a(c){b(d.curCSS(c,"borderLeftWidth",!0),d.curCSS(c,"borderTopWidth",
!0))}function b(a,d){c+=parseInt(a)||0;f+=parseInt(d)||0}var c=0,f=0,j=this[0],h;if(j)with(d.browser){var g=j.parentNode,i=j,m=j.offsetParent;h=j.ownerDocument;var q=safari&&522>parseInt(version)&&!/adobeair/i.test(l),s="fixed"==d.css(j,"position");if(j.getBoundingClientRect)j=j.getBoundingClientRect(),b(j.left+Math.max(h.documentElement.scrollLeft,h.body.scrollLeft),j.top+Math.max(h.documentElement.scrollTop,h.body.scrollTop)),b(-h.documentElement.clientLeft,-h.documentElement.clientTop);else{for(b(j.offsetLeft,
j.offsetTop);m;)b(m.offsetLeft,m.offsetTop),(mozilla&&!/^t(able|d|h)$/i.test(m.tagName)||safari&&!q)&&a(m),!s&&"fixed"==d.css(m,"position")&&(s=!0),i=/^body$/i.test(m.tagName)?i:m,m=m.offsetParent;for(;g&&g.tagName&&!/^body|html$/i.test(g.tagName);)/^inline|table.*$/i.test(d.css(g,"display"))||b(-g.scrollLeft,-g.scrollTop),mozilla&&"visible"!=d.css(g,"overflow")&&a(g),g=g.parentNode;(q&&(s||"absolute"==d.css(i,"position"))||mozilla&&"absolute"!=d.css(i,"position"))&&b(-h.body.offsetLeft,-h.body.offsetTop);
s&&b(Math.max(h.documentElement.scrollLeft,h.body.scrollLeft),Math.max(h.documentElement.scrollTop,h.body.scrollTop))}h={top:f,left:c}}return h}})();
var MooTools={version:"1.2.0",build:""},Native=function(a){var a=a||{},b=a.afterImplement||function(){},c=a.generics,c=!1!==c,d=a.legacy,f=a.initialize,g=a.protect,h=a.name,a=f||d;a.constructor=Native;a.$family={name:"native"};d&&f&&(a.prototype=d.prototype);a.prototype.constructor=a;h&&(d=h.toLowerCase(),a.prototype.$family={name:d},Native.typize(a,d));var i=function(a,d,f,h){if(!g||h||!a.prototype[d])a.prototype[d]=f;c&&Native.genericize(a,d,g);b.call(a,d,f);return a};a.implement=function(a,b,c){if(typeof a==
"string")return i(this,a,b,c);for(var d in a)i(this,d,a[d],b);return this};a.alias=function(a,b,c){if(typeof a=="string")(a=this.prototype[a])&&i(this,b,a,c);else for(var d in a)this.alias(d,a[d],b);return this};return a};Native.implement=function(a,b){for(var c=0,d=a.length;c<d;c++)a[c].implement(b)};Native.genericize=function(a,b,c){if((!c||!a[b])&&"function"==typeof a.prototype[b])a[b]=function(){var c=Array.prototype.slice.call(arguments);return a.prototype[b].apply(c.shift(),c)}};
Native.typize=function(a,b){a.type||(a.type=function(a){return $type(a)===b})};Native.alias=function(a,b,c,d){for(var f=0,g=a.length;f<g;f++)a[f].alias(b,c,d)};(function(a){for(var b in a)Native.typize(a[b],b)})({"boolean":Boolean,"native":Native,object:Object});(function(a){for(var b in a)new Native({name:b,initialize:a[b],protect:!0})})({String:String,Function:Function,Number:Number,Array:Array,RegExp:RegExp,Date:Date});
(function(a,b){for(var c=b.length;c--;c)Native.genericize(a,b[c],!0);return arguments.callee})(Array,"pop push reverse shift sort splice unshift concat join slice toString valueOf indexOf lastIndexOf".split(" "))(String,"charAt charCodeAt concat indexOf lastIndexOf match replace search slice split substr substring toLowerCase toUpperCase valueOf".split(" "));function $chk(a){return!!(a||0===a)}function $clear(a){clearTimeout(a);clearInterval(a);return null}function $defined(a){return void 0!=a}
function $empty(){}function $arguments(a){return function(){return arguments[a]}}function $lambda(a){return"function"==typeof a?a:function(){return a}}function $extend(a,b){for(var c in b||{})a[c]=b[c];return a}function $unlink(a){var b;switch($type(a)){case "object":b={};for(var c in a)b[c]=$unlink(a[c]);break;case "hash":b=$unlink(a.getClean());break;case "array":b=[];c=0;for(var d=a.length;c<d;c++)b[c]=$unlink(a[c]);break;default:return a}return b}
function $merge(){for(var a={},b=0,c=arguments.length;b<c;b++){var d=arguments[b];if("object"==$type(d))for(var f in d){var g=d[f],h=a[f];a[f]=h&&"object"==$type(g)&&"object"==$type(h)?$merge(h,g):$unlink(g)}}return a}function $pick(){for(var a=0,b=arguments.length;a<b;a++)if(void 0!=arguments[a])return arguments[a];return null}function $random(a,b){return Math.floor(Math.random()*(b-a+1)+a)}function $splat(a){var b=$type(a);return b?"array"!=b&&"arguments"!=b?[a]:a:[]}var $time=Date.now||function(){return(new Date).getTime()};
function $try(){for(var a=0,b=arguments.length;a<b;a++)try{return arguments[a]()}catch(c){}return null}function $type(a){if(void 0==a)return!1;if(a.$family)return"number"==a.$family.name&&!isFinite(a)?!1:a.$family.name;if(a.nodeName)switch(a.nodeType){case 1:return"element";case 3:return/\S/.test(a.nodeValue)?"textnode":"whitespace"}else if("number"==typeof a.length){if(a.callee)return"arguments";if(a.item)return"collection"}return typeof a}
var Hash=new Native({name:"Hash",initialize:function(a){"hash"==$type(a)&&(a=$unlink(a.getClean()));for(var b in a)this[b]=a[b];return this}});Hash.implement({getLength:function(){var a=0,b;for(b in this)this.hasOwnProperty(b)&&a++;return a},forEach:function(a,b){for(var c in this)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)},getClean:function(){var a={},b;for(b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a}});Hash.alias("forEach","each");function $H(a){return new Hash(a)}
Array.implement({forEach:function(a,b){for(var c=0,d=this.length;c<d;c++)a.call(b,this[c],c,this)}});Array.alias("forEach","each");function $A(a){if(a.item){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}return Array.prototype.slice.call(a)}function $each(a,b,c){var d=$type(a);("arguments"==d||"collection"==d||"array"==d?Array:Hash).each(a,b,c)}
var BrowserObject=new Hash({Engine:{name:"unknown",version:""},Platform:{name:(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase()},Features:{xpath:!!document.evaluate,air:!!window.runtime},Plugins:{}});
window.opera?BrowserObject.Engine={name:"presto",version:document.getElementsByClassName?950:925}:window.ActiveXObject?BrowserObject.Engine={name:"trident",version:window.XMLHttpRequest?5:4}:navigator.taintEnabled?null!=document.getBoxObjectFor&&(BrowserObject.Engine={name:"gecko",version:document.getElementsByClassName?19:18}):BrowserObject.Engine={name:"webkit",version:BrowserObject.Features.xpath?420:419};
BrowserObject.Engine[BrowserObject.Engine.name]=BrowserObject.Engine[BrowserObject.Engine.name+BrowserObject.Engine.version]=!0;void 0!=window.orientation&&(BrowserObject.Platform.name="ipod");BrowserObject.Platform[BrowserObject.Platform.name]=!0;BrowserObject.Request=function(){return $try(function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP")})};BrowserObject.Features.xhr=!!BrowserObject.Request();
BrowserObject.Plugins.Flash=function(){var a=($try(function(){return navigator.plugins["Shockwave Flash"].description},function(){return(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")})||"0 r0").match(/\d+/g);return{version:parseInt(a[0]||"0."+a[1]||0),build:parseInt(a[2]||0)}}();
function $exec(a){if(!a)return a;if(window.execScript)window.execScript(a);else{var b=document.createElement("script");b.setAttribute("type","text/javascript");b.text=a;document.head.appendChild(b);document.head.removeChild(b)}return a}Native.UID=1;
var $uid=BrowserObject.Engine.trident?function(a){return(a.uid||(a.uid=[Native.UID++]))[0]}:function(a){return a.uid||(a.uid=Native.UID++)},Window=new Native({name:"Window",legacy:BrowserObject.Engine.trident?null:window.Window,initialize:function(a){$uid(a);if(!a.Element){a.Element=$empty;BrowserObject.Engine.webkit&&a.document.createElement("iframe");a.Element.prototype=BrowserObject.Engine.webkit?window["[[DOMElement.prototype]]"]:{}}return $extend(a,Window.Prototype)},afterImplement:function(a,
b){window[a]=Window.Prototype[a]=b}});Window.Prototype={$family:{name:"window"}};new Window(window);
var Document=new Native({name:"Document",legacy:BrowserObject.Engine.trident?null:window.Document,initialize:function(a){$uid(a);a.head=a.getElementsByTagName("head")[0];a.html=a.getElementsByTagName("html")[0];a.window=a.defaultView||a.parentWindow;BrowserObject.Engine.trident4&&$try(function(){a.execCommand("BackgroundImageCache",false,true)});return $extend(a,Document.Prototype)},afterImplement:function(a,b){document[a]=Document.Prototype[a]=b}});Document.Prototype={$family:{name:"document"}};
new Document(document);
Array.implement({every:function(a,b){for(var c=0,d=this.length;c<d;c++)if(!a.call(b,this[c],c,this))return false;return true},filter:function(a,b){for(var c=[],d=0,f=this.length;d<f;d++)a.call(b,this[d],d,this)&&c.push(this[d]);return c},clean:function(){return this.filter($defined)},indexOf:function(a,b){for(var c=this.length,d=b<0?Math.max(0,c+b):b||0;d<c;d++)if(this[d]===a)return d;return-1},map:function(a,b){for(var c=[],d=0,f=this.length;d<f;d++)c[d]=a.call(b,this[d],d,this);return c},some:function(a,
b){for(var c=0,d=this.length;c<d;c++)if(a.call(b,this[c],c,this))return true;return false},associate:function(a){for(var b={},c=Math.min(this.length,a.length),d=0;d<c;d++)b[a[d]]=this[d];return b},link:function(a){for(var b={},c=0,d=this.length;c<d;c++)for(var f in a)if(a[f](this[c])){b[f]=this[c];delete a[f];break}return b},contains:function(a,b){return this.indexOf(a,b)!=-1},extend:function(a){for(var b=0,c=a.length;b<c;b++)this.push(a[b]);return this},getLast:function(){return this.length?this[this.length-
1]:null},getRandom:function(){return this.length?this[$random(0,this.length-1)]:null},include:function(a){this.contains(a)||this.push(a);return this},combine:function(a){for(var b=0,c=a.length;b<c;b++)this.include(a[b]);return this},erase:function(a){for(var b=this.length;b--;b)this[b]===a&&this.splice(b,1);return this},empty:function(){this.length=0;return this},flatten:function(){for(var a=[],b=0,c=this.length;b<c;b++){var d=$type(this[b]);d&&(a=a.concat(d=="array"||d=="collection"||d=="arguments"?
Array.flatten(this[b]):this[b]))}return a},hexToRgb:function(a){if(this.length!=3)return null;var b=this.map(function(a){a.length==1&&(a=a+a);return a.toInt(16)});return a?b:"rgb("+b+")"},rgbToHex:function(a){if(this.length<3)return null;if(this.length==4&&this[3]==0&&!a)return"transparent";for(var b=[],c=0;c<3;c++){var d=(this[c]-0).toString(16);b.push(d.length==1?"0"+d:d)}return a?b:"#"+b.join("")}});
Function.implement({extend:function(a){for(var b in a)this[b]=a[b];return this},create:function(a){var b=this,a=a||{};return function(c){var d=a.arguments,d=d!=void 0?$splat(d):Array.slice(arguments,a.event?1:0);a.event&&(d=[c||window.event].extend(d));var f=function(){return b.apply(a.bind||null,d)};return a.delay?setTimeout(f,a.delay):a.periodical?setInterval(f,a.periodical):a.attempt?$try(f):f()}},pass:function(a,b){return this.create({arguments:a,bind:b})},attempt:function(a,b){return this.create({arguments:a,
bind:b,attempt:true})()},bind:function(a,b){return this.create({bind:a,arguments:b})},bindWithEvent:function(a,b){return this.create({bind:a,event:true,arguments:b})},delay:function(a,b,c){return this.create({delay:a,bind:b,arguments:c})()},periodical:function(a,b,c){return this.create({periodical:a,bind:b,arguments:c})()},run:function(a,b){return this.apply(b,$splat(a))}});
Number.implement({limit:function(a,b){return Math.min(b,Math.max(a,this))},round:function(a){a=Math.pow(10,a||0);return Math.round(this*a)/a},times:function(a,b){for(var c=0;c<this;c++)a.call(b,c,this)},toFloat:function(){return parseFloat(this)},toInt:function(a){return parseInt(this,a||10)}});Number.alias("times","each");(function(a){var b={};a.each(function(a){Number[a]||(b[a]=function(){return Math[a].apply(null,[this].concat($A(arguments)))})});Number.implement(b)})("abs acos asin atan atan2 ceil cos exp floor log max min pow sin sqrt tan".split(" "));
String.implement({test:function(a,b){return(typeof a=="string"?RegExp(a,b):a).test(this)},contains:function(a,b){return b?(b+this+b).indexOf(b+a+b)>-1:this.indexOf(a)>-1},trim:function(){return this.replace(/^\s+|\s+$/g,"")},clean:function(){return this.replace(/\s+/g," ").trim()},camelCase:function(){return this.replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()})},hyphenate:function(){return this.replace(/[A-Z]/g,function(a){return"-"+a.charAt(0).toLowerCase()})},capitalize:function(){return this.replace(/\b[a-z]/g,
function(a){return a.toUpperCase()})},escapeRegExp:function(){return this.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},toInt:function(a){return parseInt(this,a||10)},toFloat:function(){return parseFloat(this)},hexToRgb:function(a){var b=this.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);return b?b.slice(1).hexToRgb(a):null},rgbToHex:function(a){var b=this.match(/\d{1,3}/g);return b?b.rgbToHex(a):null},stripScripts:function(a){var b="",c=this.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(a,c){b=
b+(c+"\n");return""});a===true?$exec(b):$type(a)=="function"&&a(b,c);return c},substitute:function(a,b){return this.replace(b||/\\?\{([^}]+)\}/g,function(b,d){return b.charAt(0)=="\\"?b.slice(1):a[d]!=void 0?a[d]:""})}});
Hash.implement({has:Object.prototype.hasOwnProperty,keyOf:function(a){for(var b in this)if(this.hasOwnProperty(b)&&this[b]===a)return b;return null},hasValue:function(a){return Hash.keyOf(this,a)!==null},extend:function(a){Hash.each(a,function(a,c){Hash.set(this,c,a)},this);return this},combine:function(a){Hash.each(a,function(a,c){Hash.include(this,c,a)},this);return this},erase:function(a){this.hasOwnProperty(a)&&delete this[a];return this},get:function(a){return this.hasOwnProperty(a)?this[a]:
null},set:function(a,b){if(!this[a]||this.hasOwnProperty(a))this[a]=b;return this},empty:function(){Hash.each(this,function(a,b){delete this[b]},this);return this},include:function(a,b){this[a]==void 0&&(this[a]=b);return this},map:function(a,b){var c=new Hash;Hash.each(this,function(d,f){c.set(f,a.call(b,d,f,this))},this);return c},filter:function(a,b){var c=new Hash;Hash.each(this,function(d,f){a.call(b,d,f,this)&&c.set(f,d)},this);return c},every:function(a,b){for(var c in this)if(this.hasOwnProperty(c)&&
!a.call(b,this[c],c))return false;return true},some:function(a,b){for(var c in this)if(this.hasOwnProperty(c)&&a.call(b,this[c],c))return true;return false},getKeys:function(){var a=[];Hash.each(this,function(b,c){a.push(c)});return a},getValues:function(){var a=[];Hash.each(this,function(b){a.push(b)});return a},toQueryString:function(a){var b=[];Hash.each(this,function(c,d){a&&(d=a+"["+d+"]");var f;switch($type(c)){case "object":f=Hash.toQueryString(c,d);break;case "array":var g={};c.each(function(a,
b){g[b]=a});f=Hash.toQueryString(g,d);break;default:f=d+"="+encodeURIComponent(c)}c!=void 0&&b.push(f)});return b.join("&")}});Hash.alias({keyOf:"indexOf",hasValue:"contains"});
var Event=new Native({name:"Event",initialize:function(a,b){var b=b||window,c=b.document,a=a||b.event;if(a.$extended)return a;this.$extended=true;for(var d=a.type,f=a.target||a.srcElement;f&&f.nodeType==3;)f=f.parentNode;if(d.test(/key/)){var g=a.which||a.keyCode,h=Event.Keys.keyOf(g);if(d=="keydown"){c=g-111;c>0&&c<13&&(h="f"+c)}h=h||String.fromCharCode(g).toLowerCase()}else if(d.match(/(click|mouse|menu)/i)){var c=!c.compatMode||c.compatMode=="CSS1Compat"?c.html:c.body,i={x:a.pageX||a.clientX+c.scrollLeft,
y:a.pageY||a.clientY+c.scrollTop},m={x:a.pageX?a.pageX-b.pageXOffset:a.clientX,y:a.pageY?a.pageY-b.pageYOffset:a.clientY};if(d.match(/DOMMouseScroll|mousewheel/))var s=a.wheelDelta?a.wheelDelta/120:-(a.detail||0)/3;var q=a.which==3||a.button==2,l=null;if(d.match(/over|out/)){switch(d){case "mouseover":l=a.relatedTarget||a.fromElement;break;case "mouseout":l=a.relatedTarget||a.toElement}(function(){for(;l&&l.nodeType==3;)l=l.parentNode;return true}).create({attempt:BrowserObject.Engine.gecko})()||
(l=false)}}return $extend(this,{event:a,type:d,page:i,client:m,rightClick:q,wheel:s,relatedTarget:l,target:f,code:g,key:h,shift:a.shiftKey,control:a.ctrlKey,alt:a.altKey,meta:a.metaKey})}});Event.Keys=new Hash({enter:13,up:38,down:40,left:37,right:39,esc:27,space:32,backspace:8,tab:9,"delete":46});
Event.implement({stop:function(){return this.stopPropagation().preventDefault()},stopPropagation:function(){this.event.stopPropagation?this.event.stopPropagation():this.event.cancelBubble=true;return this},preventDefault:function(){this.event.preventDefault?this.event.preventDefault():this.event.returnValue=false;return this}});
var Class=new Native({name:"Class",initialize:function(a){var a=a||{},b=function(a){for(var d in this)this[d]=$unlink(this[d]);for(var f in Class.Mutators)if(this[f]){Class.Mutators[f](this,this[f]);delete this[f]}this.constructor=b;if(a===$empty)return this;d=this.initialize?this.initialize.apply(this,arguments):this;this.options&&this.options.initialize&&this.options.initialize.call(this);return d};$extend(b,this);b.constructor=Class;b.prototype=a;return b}});
Class.implement({implement:function(){Class.Mutators.Implements(this.prototype,Array.slice(arguments));return this}});
Class.Mutators={Implements:function(a,b){$splat(b).each(function(b){$extend(a,$type(b)=="class"?new b($empty):b)})},Extends:function(a,b){var c=new b($empty);delete c.parent;delete c.parentOf;for(var d in c){var f=a[d],g=c[d];if(f==void 0)a[d]=g;else{var h=$type(f),i=$type(g);if(h==i)switch(h){case "function":arguments.callee.caller||(a[d]=eval("("+String(f).replace(/\bthis\.parent\(\s*(\))?/g,function(a,b){return"arguments.callee._parent_.call(this"+(b||", ")})+")"));a[d]._parent_=g;break;case "object":a[d]=
$merge(g,f)}}}a.parent=function(){return arguments.callee.caller._parent_.apply(this,arguments)};a.parentOf=function(a){return a._parent_.apply(this,Array.slice(arguments,1))}}};
var Chain=new Class({chain:function(){this.$chain=(this.$chain||[]).extend(arguments);return this},callChain:function(){return this.$chain&&this.$chain.length?this.$chain.shift().apply(this,arguments):false},clearChain:function(){this.$chain&&this.$chain.empty();return this}}),Events=new Class({addEvent:function(a,b,c){a=Events.removeOn(a);if(b!=$empty){this.$events=this.$events||{};this.$events[a]=this.$events[a]||[];this.$events[a].include(b);if(c)b.internal=true}return this},addEvents:function(a){for(var b in a)this.addEvent(b,
a[b]);return this},fireEvent:function(a,b,c){a=Events.removeOn(a);if(!this.$events||!this.$events[a])return this;this.$events[a].each(function(a){a.create({bind:this,delay:c,arguments:b})()},this);return this},removeEvent:function(a,b){a=Events.removeOn(a);if(!this.$events||!this.$events[a])return this;b.internal||this.$events[a].erase(b);return this},removeEvents:function(a){for(var b in this.$events)if(!(a&&a!=b))for(var c=this.$events[b],d=c.length;d--;d)this.removeEvent(b,c[d]);return this}});
Events.removeOn=function(a){return a.replace(/^on([A-Z])/,function(a,c){return c.toLowerCase()})};var Options=new Class({setOptions:function(){this.options=$merge.run([this.options].extend(arguments));if(!this.addEvent)return this;for(var a in this.options)if($type(this.options[a])=="function"&&/^on[A-Z]/.test(a)){this.addEvent(a,this.options[a]);delete this.options[a]}return this}});
Document.implement({newElement:function(a,b){if(BrowserObject.Engine.trident&&b){["name","type","checked"].each(function(c){if(b[c]){a=a+(" "+c+'="'+b[c]+'"');c!="checked"&&delete b[c]}});a="<"+a+">"}return $.element(this.createElement(a)).set(b)},newTextNode:function(a){return this.createTextNode(a)},getDocument:function(){return this},getWindow:function(){return this.defaultView||this.parentWindow},purge:function(){for(var a=this.getElementsByTagName("*"),b=0,c=a.length;b<c;b++)BrowserObject.freeMem(a[b])}});
var Element=new Native({name:"Element",legacy:window.Element,initialize:function(a,b){var c=Element.Constructors.get(a);return c?c(b):typeof a=="string"?document.newElement(a,b):$(a).set(b)},afterImplement:function(a,b){Array[a]||Elements.implement(a,Elements.multi(a));Element.Prototype[a]=b}});Element.Prototype={$family:{name:"element"}};Element.Constructors=new Hash;
var IFrame=new Native({name:"IFrame",generics:!1,initialize:function(){var a=Array.link(arguments,{properties:Object.type,iframe:$defined}),b=a.properties||{},c=$(a.iframe)||false,d=b.onload||$empty;delete b.onload;b.id=b.name=$pick(b.id,b.name,c.id,c.name,"IFrame_"+$time());c=new Element(c||"iframe",b);a=function(){var a=$try(function(){return c.contentWindow.location.host});if(a&&a==window.location.host){a=new Window(c.contentWindow);new Document(c.contentWindow.document);$extend(a.Element.prototype,
Element.Prototype)}d.call(c.contentWindow,c.contentWindow.document)};!window.frames[b.id]?c.addListener("load",a):a();return c}}),Elements=new Native({initialize:function(a,b){b=$extend({ddup:true,cash:true},b);a=a||[];if(b.ddup||b.cash){for(var c={},d=[],f=0,g=a.length;f<g;f++){var h=$.element(a[f],!b.cash);if(b.ddup){if(c[h.uid])continue;c[h.uid]=true}d.push(h)}a=d}return b.cash?$extend(a,this):a}});
Elements.implement({filter:function(a,b){return!a?this:new Elements(Array.filter(this,typeof a=="string"?function(b){return b.match(a)}:a,b))}});Elements.multi=function(a){return function(){for(var b=[],c=true,d=0,f=this.length;d<f;d++){var g=this[d][a].apply(this[d],arguments);b.push(g);c&&(c=$type(g)=="element")}return c?new Elements(b):b}};
Window.implement({$:function(a,b){if(a&&a.$family&&a.uid)return a;var c=$type(a);return $[c]?$[c](a,b,this.document):null},$$:function(a){if(arguments.length==1&&typeof a=="string")return this.document.getElements(a);for(var b=[],c=Array.flatten(arguments),d=0,f=c.length;d<f;d++){var g=c[d];switch($type(g)){case "element":g=[g];break;case "string":g=this.document.getElements(g,true);break;default:g=false}g&&b.extend(g)}return new Elements(b)},getDocument:function(){return this.document},getWindow:function(){return this}});
$.string=function(a,b,c){return(a=c.getElementById(a))?$.element(a,b):null};$.element=function(a,b){$uid(a);if(!b&&!a.$family&&!/^object|embed$/i.test(a.tagName)){var c=Element.Prototype,d;for(d in c)a[d]=c[d]}return a};$.object=function(a,b,c){return a.toElement?$.element(a.toElement(c),b):null};$.textnode=$.whitespace=$.window=$.document=$arguments(0);
Native.implement([Element,Document],{getElement:function(a,b){return $(this.getElements(a,true)[0]||null,b)},getElements:function(a,b){var a=a.split(","),c=[],d=a.length>1;a.each(function(a){a=this.getElementsByTagName(a.trim());d?c.extend(a):c=a},this);return new Elements(c,{ddup:d,cash:!b})}});Element.Storage={get:function(a){return this[a]||(this[a]={})}};
Element.Inserters=new Hash({before:function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},after:function(a,b){if(b.parentNode){var c=b.nextSibling;c?b.parentNode.insertBefore(a,c):b.parentNode.appendChild(a)}},bottom:function(a,b){b.appendChild(a)},top:function(a,b){var c=b.firstChild;c?b.insertBefore(a,c):b.appendChild(a)}});Element.Inserters.inside=Element.Inserters.bottom;
Element.Inserters.each(function(a,b){var c=b.capitalize();Element.implement("inject"+c,function(b){a(this,$(b,true));return this});Element.implement("grab"+c,function(b){a($(b,true),this);return this})});
Element.implement({getDocument:function(){return this.ownerDocument},getWindow:function(){return this.ownerDocument.getWindow()},getElementById:function(a,b){var c=this.ownerDocument.getElementById(a);if(!c)return null;for(var d=c.parentNode;d!=this;d=d.parentNode)if(!d)return null;return $.element(c,b)},set:function(a,b){switch($type(a)){case "object":for(var c in a)this.set(c,a[c]);break;case "string":(c=Element.Properties.get(a))&&c.set?c.set.apply(this,Array.slice(arguments,1)):this.setProperty(a,
b)}return this},get:function(a){var b=Element.Properties.get(a);return b&&b.get?b.get.apply(this,Array.slice(arguments,1)):this.getProperty(a)},erase:function(a){var b=Element.Properties.get(a);b&&b.erase?b.erase.apply(this,Array.slice(arguments,1)):this.removeProperty(a);return this},match:function(a){return!a||Element.get(this,"tag")==a},inject:function(a,b){Element.Inserters.get(b||"bottom")(this,$(a,true));return this},wraps:function(a,b){a=$(a,true);return this.replaces(a).grab(a,b)},grab:function(a,
b){Element.Inserters.get(b||"bottom")($(a,true),this);return this},appendText:function(a,b){return this.grab(this.getDocument().newTextNode(a),b)},adopt:function(){Array.flatten(arguments).each(function(a){(a=$(a,true))&&this.appendChild(a)},this);return this},dispose:function(){return this.parentNode?this.parentNode.removeChild(this):this},clone:function(a,b){switch($type(this)){case "element":for(var c={},d=0,f=this.attributes.length;d<f;d++){var g=this.attributes[d],h=g.nodeName.toLowerCase();
if(!BrowserObject.Engine.trident||!/input/i.test(this.tagName)||!/width|height/.test(h)){g=h=="style"&&this.style?this.style.cssText:g.nodeValue;if($chk(g)&&!(h=="uid"||h=="id"&&!b))g!="inherit"&&["string","number"].contains($type(g))&&(c[h]=g)}}c=new Element(this.nodeName.toLowerCase(),c);if(a!==false){d=0;for(f=this.childNodes.length;d<f;d++)(h=Element.clone(this.childNodes[d],true,b))&&c.grab(h)}return c;case "textnode":return document.newTextNode(this.nodeValue)}return null},replaces:function(a){a=
$(a,true);a.parentNode.replaceChild(this,a);return this},hasClass:function(a){return this.className.contains(a," ")},addClass:function(a){if(!this.hasClass(a))this.className=(this.className+" "+a).clean();return this},removeClass:function(a){this.className=this.className.replace(RegExp("(^|\\s)"+a+"(?:\\s|$)"),"$1").clean();return this},toggleClass:function(a){return this.hasClass(a)?this.removeClass(a):this.addClass(a)},getComputedStyle:function(a){if(this.currentStyle)return this.currentStyle[a.camelCase()];
var b=this.getWindow().getComputedStyle(this,null);return b?b.getPropertyValue([a.hyphenate()]):null},empty:function(){$A(this.childNodes).each(function(a){BrowserObject.freeMem(a);Element.empty(a);Element.dispose(a)},this);return this},destroy:function(){BrowserObject.freeMem(this.empty().dispose());return null},getSelected:function(){return new Elements($A(this.options).filter(function(a){return a.selected}))},toQueryString:function(){var a=[];this.getElements("input, select, textarea").each(function(b){if(b.name&&
!b.disabled){var c=b.tagName.toLowerCase()=="select"?Element.getSelected(b).map(function(a){return a.value}):(b.type=="radio"||b.type=="checkbox")&&!b.checked?null:b.value;$splat(c).each(function(c){c&&a.push(b.name+"="+encodeURIComponent(c))})}});return a.join("&")},getProperty:function(a){var b=Element.Attributes,c=b.Props[a],d=c?this[c]:this.getAttribute(a,2);return b.Bools[a]?!!d:c?d:d||null},getProperties:function(){var a=$A(arguments);return a.map(function(a){return this.getProperty(a)},this).associate(a)},
setProperty:function(a,b){var c=Element.Attributes,d=c.Props[a],f=$defined(b);if(d&&c.Bools[a])b=b||!f?true:false;else if(!f)return this.removeProperty(a);d?this[d]=b:this.setAttribute(a,b);return this},setProperties:function(a){for(var b in a)this.setProperty(b,a[b]);return this},removeProperty:function(a){var b=Element.Attributes,c=b.Props[a],b=c&&b.Bools[a];c?this[c]=b?false:"":this.removeAttribute(a);return this},removeProperties:function(){Array.each(arguments,this.removeProperty,this);return this}});
(function(){var a=function(a,c,d,f,g,h){a=a[d||c];for(d=[];a;){if(a.nodeType==1&&(!f||Element.match(a,f))){d.push(a);if(!g)break}a=a[c]}return g?new Elements(d,{ddup:false,cash:!h}):$(d[0],h)};Element.implement({getPrevious:function(b,c){return a(this,"previousSibling",null,b,false,c)},getAllPrevious:function(b,c){return a(this,"previousSibling",null,b,true,c)},getNext:function(b,c){return a(this,"nextSibling",null,b,false,c)},getAllNext:function(b,c){return a(this,"nextSibling",null,b,true,c)},getFirst:function(b,
c){return a(this,"nextSibling","firstChild",b,false,c)},getLast:function(b,c){return a(this,"previousSibling","lastChild",b,false,c)},getParent:function(b,c){return a(this,"parentNode",null,b,false,c)},getParents:function(b,c){return a(this,"parentNode",null,b,true,c)},getChildren:function(b,c){return a(this,"nextSibling","firstChild",b,true,c)},hasChild:function(a){a=$(a,true);return!!a&&$A(this.getElementsByTagName(a.tagName)).contains(a)}})})();Element.Properties=new Hash;
Element.Properties.style={set:function(a){this.style.cssText=a},get:function(){return this.style.cssText},erase:function(){this.style.cssText=""}};Element.Properties.tag={get:function(){return this.tagName.toLowerCase()}};Element.Properties.href={get:function(){return!this.href?null:this.href.replace(RegExp("^"+document.location.protocol+"//"+document.location.host),"")}};Element.Properties.html={set:function(){return this.innerHTML=Array.flatten(arguments).join("")}};
Native.implement([Element,Window,Document],{addListener:function(a,b){this.addEventListener?this.addEventListener(a,b,false):this.attachEvent("on"+a,b);return this},removeListener:function(a,b){this.removeEventListener?this.removeEventListener(a,b,false):this.detachEvent("on"+a,b);return this},retrieve:function(a,b){var c=Element.Storage.get(this.uid),d=c[a];$defined(b)&&!$defined(d)&&(d=c[a]=b);return $pick(d)},store:function(a,b){Element.Storage.get(this.uid)[a]=b;return this},eliminate:function(a){delete Element.Storage.get(this.uid)[a];
return this}});Element.Attributes=new Hash({Props:{html:"innerHTML","class":"className","for":"htmlFor",text:BrowserObject.Engine.trident?"innerText":"textContent"},Bools:"compact nowrap ismap declare noshade checked disabled readonly multiple selected noresize defer".split(" "),Camels:"value accessKey cellPadding cellSpacing colSpan frameBorder maxLength readOnly rowSpan tabIndex useMap".split(" ")});
BrowserObject.freeMem=function(a){if(a){if(BrowserObject.Engine.trident&&/object/i.test(a.tagName)){for(var b in a)typeof a[b]=="function"&&(a[b]=$empty);Element.dispose(a)}a.uid&&a.removeEvents&&a.removeEvents()}};(function(a){var b=a.Bools,c=a.Camels;a.Bools=b=b.associate(b);Hash.extend(Hash.combine(a.Props,b),c.associate(c.map(function(a){return a.toLowerCase()})));a.erase("Camels")})(Element.Attributes);
window.addListener("unload",function(){window.removeListener("unload",arguments.callee);document.purge();BrowserObject.Engine.trident&&CollectGarbage()});Element.Properties.events={set:function(a){this.addEvents(a)}};
Native.implement([Element,Window,Document],{addEvent:function(a,b){var c=this.retrieve("events",{});c[a]=c[a]||{keys:[],values:[]};if(c[a].keys.contains(b))return this;c[a].keys.push(b);var d=a,f=Element.Events.get(a),g=b,h=this;if(f){f.onAdd&&f.onAdd.call(this,b);f.condition&&(g=function(a){return f.condition.call(this,a)?b.call(this,a):false});d=f.base||d}var i=function(){return b.call(h)},m=Element.NativeEvents[d]||0;if(m){m==2&&(i=function(a){a=new Event(a,h.getWindow());g.call(h,a)===false&&
a.stop()});this.addListener(d,i)}c[a].values.push(i);return this},removeEvent:function(a,b){var c=this.retrieve("events");if(!c||!c[a])return this;var d=c[a].keys.indexOf(b);if(d==-1)return this;c[a].keys.splice(d,1);c=c[a].values.splice(d,1)[0];if(d=Element.Events.get(a)){d.onRemove&&d.onRemove.call(this,b);a=d.base||a}return Element.NativeEvents[a]?this.removeListener(a,c):this},addEvents:function(a){for(var b in a)this.addEvent(b,a[b]);return this},removeEvents:function(a){var b=this.retrieve("events");
if(!b)return this;if(a){if(b[a]){for(;b[a].keys[0];)this.removeEvent(a,b[a].keys[0]);b[a]=null}}else for(var c in b)this.removeEvents(c);return this},fireEvent:function(a,b,c){var d=this.retrieve("events");if(!d||!d[a])return this;d[a].keys.each(function(a){a.create({bind:this,delay:c,arguments:b})()},this);return this},cloneEvents:function(a,b){var a=$(a),c=a.retrieve("events");if(!c)return this;if(b)c[b]&&c[b].keys.each(function(a){this.addEvent(b,a)},this);else for(var d in c)this.cloneEvents(a,
d);return this}});Element.NativeEvents={click:2,dblclick:2,mouseup:2,mousedown:2,contextmenu:2,mousewheel:2,DOMMouseScroll:2,mouseover:2,mouseout:2,mousemove:2,selectstart:2,selectend:2,keydown:2,keypress:2,keyup:2,focus:2,blur:2,change:2,reset:2,select:2,submit:2,load:1,unload:1,beforeunload:2,resize:1,move:1,DOMContentLoaded:1,readystatechange:1,error:1,abort:1,scroll:1};
(function(){var a=function(a){a=a.relatedTarget;return a==void 0?true:a===false?false:$type(this)!="document"&&a!=this&&a.prefix!="xul"&&!this.hasChild(a)};Element.Events=new Hash({mouseenter:{base:"mouseover",condition:a},mouseleave:{base:"mouseout",condition:a},mousewheel:{base:BrowserObject.Engine.gecko?"DOMMouseScroll":"mousewheel"}})})();Element.Properties.styles={set:function(a){this.setStyles(a)}};
Element.Properties.opacity={set:function(a,b){if(!b)if(a==0){if(this.style.visibility!="hidden")this.style.visibility="hidden"}else if(this.style.visibility!="visible")this.style.visibility="visible";if(!this.currentStyle||!this.currentStyle.hasLayout)this.style.zoom=1;if(BrowserObject.Engine.trident)this.style.filter=a==1?"":"alpha(opacity="+a*100+")";this.style.opacity=a;this.store("opacity",a)},get:function(){return this.retrieve("opacity",1)}};
Element.implement({setOpacity:function(a){return this.set("opacity",a,true)},getOpacity:function(){return this.get("opacity")},setStyle:function(a,b){switch(a){case "opacity":return this.set("opacity",parseFloat(b));case "float":a=BrowserObject.Engine.trident?"styleFloat":"cssFloat"}a=a.camelCase();if($type(b)!="string")var c=(Element.Styles.get(a)||"@").split(" "),b=$splat(b).map(function(a,b){return!c[b]?"":$type(a)=="number"?c[b].replace("@",Math.round(a)):a}).join(" ");else b==String(Number(b))&&
(b=Math.round(b));this.style[a]=b;return this},getStyle:function(a){switch(a){case "opacity":return this.get("opacity");case "float":a=BrowserObject.Engine.trident?"styleFloat":"cssFloat"}var a=a.camelCase(),b=this.style[a];if(!$chk(b)){var b=[],c;for(c in Element.ShortStyles)if(a==c){for(var d in Element.ShortStyles[c])b.push(this.getStyle(d));return b.join(" ")}b=this.getComputedStyle(a)}if(b){b=String(b);(c=b.match(/rgba?\([\d\s,]+\)/))&&(b=b.replace(c[0],c[0].rgbToHex()))}if(BrowserObject.Engine.presto||
BrowserObject.Engine.trident&&!$chk(parseInt(b))){if(a.test(/^(height|width)$/)){var f=0;(a=="width"?["left","right"]:["top","bottom"]).each(function(a){f=f+(this.getStyle("border-"+a+"-width").toInt()+this.getStyle("padding-"+a).toInt())},this);return this["offset"+a.capitalize()]-f+"px"}if(BrowserObject.Engine.presto&&String(b).test("px"))return b;if(a.test(/(border(.+)Width|margin|padding)/))return"0px"}return b},setStyles:function(a){for(var b in a)this.setStyle(b,a[b]);return this},getStyles:function(){var a=
{};Array.each(arguments,function(b){a[b]=this.getStyle(b)},this);return a}});
Element.Styles=new Hash({left:"@px",top:"@px",bottom:"@px",right:"@px",width:"@px",height:"@px",maxWidth:"@px",maxHeight:"@px",minWidth:"@px",minHeight:"@px",backgroundColor:"rgb(@, @, @)",backgroundPosition:"@px @px",color:"rgb(@, @, @)",fontSize:"@px",letterSpacing:"@px",lineHeight:"@px",clip:"rect(@px @px @px @px)",margin:"@px @px @px @px",padding:"@px @px @px @px",border:"@px @ rgb(@, @, @) @px @ rgb(@, @, @) @px @ rgb(@, @, @)",borderWidth:"@px @px @px @px",borderStyle:"@ @ @ @",borderColor:"rgb(@, @, @) rgb(@, @, @) rgb(@, @, @) rgb(@, @, @)",
zIndex:"@",zoom:"@",fontWeight:"@",textIndent:"@px",opacity:"@"});Element.ShortStyles={margin:{},padding:{},border:{},borderWidth:{},borderStyle:{},borderColor:{}};
["Top","Right","Bottom","Left"].each(function(a){var b=Element.ShortStyles,c=Element.Styles;["margin","padding"].each(function(d){var f=d+a;b[d][f]=c[f]="@px"});var d="border"+a;b.border[d]=c[d]="@px @ rgb(@, @, @)";var f=d+"Width",g=d+"Style",h=d+"Color";b[d]={};b.borderWidth[f]=b[d][f]=c[f]="@px";b.borderStyle[g]=b[d][g]=c[g]="@";b.borderColor[h]=b[d][h]=c[h]="rgb(@, @, @)"});
(function(){function a(a){return g(a,"-moz-box-sizing")=="border-box"}function b(a){return g(a,"border-top-width").toInt()||0}function c(a){return g(a,"border-left-width").toInt()||0}function d(a){return/^(?:body|html)$/i.test(a.tagName)}function f(a){a=a.getDocument();return!a.compatMode||a.compatMode=="CSS1Compat"?a.html:a.body}Element.implement({scrollTo:function(a,b){if(d(this))this.getWindow().scrollTo(a,b);else{this.scrollLeft=a;this.scrollTop=b}return this},getSize:function(){return d(this)?
this.getWindow().getSize():{x:this.offsetWidth,y:this.offsetHeight}},getScrollSize:function(){return d(this)?this.getWindow().getScrollSize():{x:this.scrollWidth,y:this.scrollHeight}},getScroll:function(){return d(this)?this.getWindow().getScroll():{x:this.scrollLeft,y:this.scrollTop}},getScrolls:function(){for(var a=this,b={x:0,y:0};a&&!d(a);){b.x=b.x+a.scrollLeft;b.y=b.y+a.scrollTop;a=a.parentNode}return b},getOffsetParent:function(){var a=this;if(d(a))return null;if(!BrowserObject.Engine.trident)return a.offsetParent;
for(;(a=a.parentNode)&&!d(a);)if(g(a,"position")!="static")return a;return null},getOffsets:function(){var f=this,i={x:0,y:0};if(d(this))return i;for(;f&&!d(f);){i.x=i.x+f.offsetLeft;i.y=i.y+f.offsetTop;if(BrowserObject.Engine.gecko){if(!a(f)){i.x=i.x+c(f);i.y=i.y+b(f)}var m=f.parentNode;if(m&&g(m,"overflow")!="visible"){i.x=i.x+c(m);i.y=i.y+b(m)}}else if(f!=this&&(BrowserObject.Engine.trident||BrowserObject.Engine.webkit)){i.x=i.x+c(f);i.y=i.y+b(f)}f=f.offsetParent;if(BrowserObject.Engine.trident)for(;f&&
!f.currentStyle.hasLayout;)f=f.offsetParent}if(BrowserObject.Engine.gecko&&!a(this)){i.x=i.x-c(this);i.y=i.y-b(this)}return i},getPosition:function(a){if(d(this))return{x:0,y:0};var b=this.getOffsets(),c=this.getScrolls(),f=b.x-c.x,b=b.y-c.y,c=a&&(a=$(a))?a.getPosition():{x:0,y:0};return{x:f-c.x,y:b-c.y}},getCoordinates:function(a){if(d(this))return this.getWindow().getCoordinates();var a=this.getPosition(a),b=this.getSize(),a={left:a.x,top:a.y,width:b.x,height:b.y};a.right=a.left+a.width;a.bottom=
a.top+a.height;return a},computePosition:function(a){return{left:a.x-(g(this,"margin-left").toInt()||0),top:a.y-(g(this,"margin-top").toInt()||0)}},position:function(a){return this.setStyles(this.computePosition(a))}});Native.implement([Document,Window],{getSize:function(){var a=this.getWindow();if(BrowserObject.Engine.presto||BrowserObject.Engine.webkit)return{x:a.innerWidth,y:a.innerHeight};a=f(this);return{x:a.clientWidth,y:a.clientHeight}},getScroll:function(){var a=this.getWindow(),b=f(this);
return{x:a.pageXOffset||b.scrollLeft,y:a.pageYOffset||b.scrollTop}},getScrollSize:function(){var a=f(this),b=this.getSize();return{x:Math.max(a.scrollWidth,b.x),y:Math.max(a.scrollHeight,b.y)}},getPosition:function(){return{x:0,y:0}},getCoordinates:function(){var a=this.getSize();return{top:0,left:0,bottom:a.y,right:a.x,height:a.y,width:a.x}}});var g=Element.getComputedStyle})();
Native.implement([Window,Document,Element],{getHeight:function(){return this.getSize().y},getWidth:function(){return this.getSize().x},getScrollTop:function(){return this.getScroll().y},getScrollLeft:function(){return this.getScroll().x},getScrollHeight:function(){return this.getScrollSize().y},getScrollWidth:function(){return this.getScrollSize().x},getTop:function(){return this.getPosition().y},getLeft:function(){return this.getPosition().x}});
Native.implement([Document,Element],{getElements:function(a,b){for(var a=a.split(","),c,d={},f=0,g=a.length;f<g;f++){var h=Selectors.Utils.search(this,a[f],d);f!=0&&h.item&&(h=$A(h));c=f==0?h:c.item?$A(c).concat(h):c.concat(h)}return new Elements(c,{ddup:a.length>1,cash:!b})}});
Element.implement({match:function(a){if(!a)return true;var b=Selectors.Utils.parseTagAndID(a),c=b[0];if(!Selectors.Filters.byID(this,b[1])||!Selectors.Filters.byTag(this,c))return false;return(a=Selectors.Utils.parseSelector(a))?Selectors.Utils.filter(this,a,{}):true}});
var Selectors={Cache:{nth:{},parsed:{}},RegExps:{id:/#([\w-]+)/,tag:/^(\w+|\*)/,quick:/^(\w+|\*)$/,splitter:/\s*([+>~\s])\s*([a-zA-Z#.*:\[])/g,combined:/\.([\w-]+)|\[(\w+)(?:([!*^$~|]?=)["']?(.*?)["']?)?\]|:([\w-]+)(?:\(["']?(.*?)?["']?\)|$)/g},Utils:{chk:function(a,b){if(!b)return true;var c=$uid(a);return!b[c]?b[c]=true:false},parseNthArgument:function(a){if(Selectors.Cache.nth[a])return Selectors.Cache.nth[a];var b=a.match(/^([+-]?\d*)?([a-z]+)?([+-]?\d*)?$/);if(!b)return false;var c=parseInt(b[1]),
c=c||c===0?c:1,d=b[2]||false,b=parseInt(b[3])||0;if(c!=0){for(b--;b<1;)b=b+c;for(;b>=c;)b=b-c}else{c=b;d="index"}switch(d){case "n":b={a:c,b:b,special:"n"};break;case "odd":b={a:2,b:0,special:"n"};break;case "even":b={a:2,b:1,special:"n"};break;case "first":b={a:0,special:"index"};break;case "last":b={special:"last-child"};break;case "only":b={special:"only-child"};break;default:b={a:c-1,special:"index"}}return Selectors.Cache.nth[a]=b},parseSelector:function(a){if(Selectors.Cache.parsed[a])return Selectors.Cache.parsed[a];
for(var b,c={classes:[],pseudos:[],attributes:[]};b=Selectors.RegExps.combined.exec(a);){var d=b[1],f=b[2],g=b[3],h=b[4],i=b[5];b=b[6];if(d)c.classes.push(d);else if(i)(d=Selectors.Pseudo.get(i))?c.pseudos.push({parser:d,argument:b}):c.attributes.push({name:i,operator:"=",value:b});else f&&c.attributes.push({name:f,operator:g,value:h})}c.classes.length||delete c.classes;c.attributes.length||delete c.attributes;c.pseudos.length||delete c.pseudos;!c.classes&&(!c.attributes&&!c.pseudos)&&(c=null);return Selectors.Cache.parsed[a]=
c},parseTagAndID:function(a){var b=a.match(Selectors.RegExps.tag),a=a.match(Selectors.RegExps.id);return[b?b[1]:"*",a?a[1]:false]},filter:function(a,b,c){var d;if(b.classes)for(d=b.classes.length;d--;d)if(!Selectors.Filters.byClass(a,b.classes[d]))return false;if(b.attributes)for(d=b.attributes.length;d--;d){var f=b.attributes[d];if(!Selectors.Filters.byAttribute(a,f.name,f.operator,f.value))return false}if(b.pseudos)for(d=b.pseudos.length;d--;d){f=b.pseudos[d];if(!Selectors.Filters.byPseudo(a,f.parser,
f.argument,c))return false}return true},getByTagAndID:function(a,b,c){if(c)return(a=a.getElementById?a.getElementById(c,true):Element.getElementById(a,c,true))&&Selectors.Filters.byTag(a,b)?[a]:[];return a.getElementsByTagName(b)},search:function(a,b,c){for(var d=[],b=b.trim().replace(Selectors.RegExps.splitter,function(a,b,c){d.push(b);return":)"+c}).split(":)"),f,g,h,i=0,m=b.length;i<m;i++){g=b[i];if(i==0&&Selectors.RegExps.quick.test(g))f=a.getElementsByTagName(g);else{h=d[i-1];var s=Selectors.Utils.parseTagAndID(g),
q=s[0],s=s[1];if(i==0)f=Selectors.Utils.getByTagAndID(a,q,s);else{for(var l={},D=[],E=0,M=f.length;E<M;E++)D=Selectors.Getters[h](D,f[E],q,s,l);f=D}if(q=Selectors.Utils.parseSelector(g)){g=[];s=0;for(l=f.length;s<l;s++){h=f[s];Selectors.Utils.filter(h,q,c)&&g.push(h)}f=g}}}return f}},Getters:{" ":function(a,b,c,d,f){b=Selectors.Utils.getByTagAndID(b,c,d);c=0;for(d=b.length;c<d;c++){var g=b[c];Selectors.Utils.chk(g,f)&&a.push(g)}return a},">":function(a,b,c,d,f){for(var c=Selectors.Utils.getByTagAndID(b,
c,d),d=0,g=c.length;d<g;d++){var h=c[d];h.parentNode==b&&Selectors.Utils.chk(h,f)&&a.push(h)}return a},"+":function(a,b,c,d,f){for(;b=b.nextSibling;)if(b.nodeType==1){Selectors.Utils.chk(b,f)&&(Selectors.Filters.byTag(b,c)&&Selectors.Filters.byID(b,d))&&a.push(b);break}return a},"~":function(a,b,c,d,f){for(;b=b.nextSibling;)if(b.nodeType==1){if(!Selectors.Utils.chk(b,f))break;Selectors.Filters.byTag(b,c)&&Selectors.Filters.byID(b,d)&&a.push(b)}return a}},Filters:{byTag:function(a,b){return b=="*"||
a.tagName&&a.tagName.toLowerCase()==b},byID:function(a,b){return!b||a.id&&a.id==b},byClass:function(a,b){return a.className&&a.className.contains(b," ")},byPseudo:function(a,b,c,d){return b.call(a,c,d)},byAttribute:function(a,b,c,d){a=Element.prototype.getProperty.call(a,b);if(!a)return false;if(!c||d==void 0)return true;switch(c){case "=":return a==d;case "*=":return a.contains(d);case "^=":return a.substr(0,d.length)==d;case "$=":return a.substr(a.length-d.length)==d;case "!=":return a!=d;case "~=":return a.contains(d,
" ");case "|=":return a.contains(d,"-")}return false}}};
Selectors.Pseudo=new Hash({empty:function(){return!(this.innerText||this.textContent||"").length},not:function(a){return!Element.match(this,a)},contains:function(a){return(this.innerText||this.textContent||"").contains(a)},"first-child":function(){return Selectors.Pseudo.index.call(this,0)},"last-child":function(){for(var a=this;a=a.nextSibling;)if(a.nodeType==1)return false;return true},"only-child":function(){for(var a=this;a=a.previousSibling;)if(a.nodeType==1)return false;for(a=this;a=a.nextSibling;)if(a.nodeType==
1)return false;return true},"nth-child":function(a,b){var c=Selectors.Utils.parseNthArgument(a==void 0?"n":a);if(c.special!="n")return Selectors.Pseudo[c.special].call(this,c.a,b);var d=0;b.positions=b.positions||{};var f=$uid(this);if(!b.positions[f]){for(var g=this;g=g.previousSibling;)if(g.nodeType==1){d++;var h=b.positions[$uid(g)];if(h!=void 0){d=h+d;break}}b.positions[f]=d}return b.positions[f]%c.a==c.b},index:function(a){for(var b=this,c=0;b=b.previousSibling;)if(b.nodeType==1&&++c>a)return false;
return c==a},even:function(a,b){return Selectors.Pseudo["nth-child"].call(this,"2n+1",b)},odd:function(a,b){return Selectors.Pseudo["nth-child"].call(this,"2n",b)}});Element.Events.domready={onAdd:function(a){BrowserObject.loaded&&a.call(this)}};
(function(){var a=function(){if(!BrowserObject.loaded){BrowserObject.loaded=true;window.fireEvent("domready");document.fireEvent("domready")}};switch(BrowserObject.Engine.name){case "webkit":(function(){["loaded","complete"].contains(document.readyState)?a():arguments.callee.delay(50)})();break;case "trident":var b=document.createElement("div");(function(){$try(function(){b.doScroll("left");return $(b).inject(document.body).set("html","temp").dispose()})?a():arguments.callee.delay(50)})();break;default:window.addEvent("load",
a);document.addEvent("DOMContentLoaded",a)}})();
var JSON=new Hash({encode:function(a){switch($type(a)){case "string":return'"'+a.replace(/[\x00-\x1f\\"]/g,JSON.$replaceChars)+'"';case "array":return"["+String(a.map(JSON.encode).filter($defined))+"]";case "object":case "hash":var b=[];Hash.each(a,function(a,d){var f=JSON.encode(a);f&&b.push(JSON.encode(d)+":"+f)});return"{"+b+"}";case "number":case "boolean":return String(a);case false:return"null"}return null},$specialChars:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},
$replaceChars:function(a){return JSON.$specialChars[a]||"\\u00"+Math.floor(a.charCodeAt()/16).toString(16)+(a.charCodeAt()%16).toString(16)},decode:function(a,b){return $type(a)!="string"||!a.length||b&&!/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(a.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""))?null:eval("("+a+")")}});Native.implement([Hash,Array,String,Number],{toJSON:function(){return JSON.encode(this)}});
var Cookie=new Class({Implements:Options,options:{path:!1,domain:!1,duration:!1,secure:!1,document:document},initialize:function(a,b){this.key=a;this.setOptions(b)},write:function(a){a=encodeURIComponent(a);this.options.domain&&(a=a+("; domain="+this.options.domain));this.options.path&&(a=a+("; path="+this.options.path));if(this.options.duration){var b=new Date;b.setTime(b.getTime()+this.options.duration*864E5);a=a+("; expires="+b.toGMTString())}this.options.secure&&(a=a+"; secure");this.options.document.cookie=
this.key+"="+a;return this},read:function(){var a=this.options.document.cookie.match("(?:^|;)\\s*"+this.key.escapeRegExp()+"=([^;]*)");return a?decodeURIComponent(a[1]):null},dispose:function(){(new Cookie(this.key,$merge(this.options,{duration:-1}))).write("");return this}});Cookie.write=function(a,b,c){return(new Cookie(a,c)).write(b)};Cookie.read=function(a){return(new Cookie(a)).read()};Cookie.dispose=function(a,b){return(new Cookie(a,b)).dispose()};
var Swiff=new Class({Implements:[Options],options:{id:null,height:1,width:1,container:null,properties:{},params:{quality:"high",allowScriptAccess:"always",wMode:"transparent",swLiveConnect:!0},callBacks:{},vars:{}},toElement:function(){return this.object},initialize:function(a,b){this.instance="Swiff_"+$time();this.setOptions(b);var b=this.options,c=this.id=b.id||this.instance,d=$(b.container);Swiff.CallBacks[this.instance]={};var f=b.params,g=b.vars,h=b.callBacks,i=$extend({height:b.height,width:b.width},
b.properties),m=this,s;for(s in h){Swiff.CallBacks[this.instance][s]=function(a){return function(){return a.apply(m.object,arguments)}}(h[s]);g[s]="Swiff.CallBacks."+this.instance+"."+s}f.flashVars=Hash.toQueryString(g);if(BrowserObject.Engine.trident){i.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000";f.movie=a}else{i.type="application/x-shockwave-flash";i.data=a}var c='<object id="'+c+'"',q;for(q in i)c=c+(" "+q+'="'+i[q]+'"');var c=c+">",l;for(l in f)f[l]&&(c=c+('<param name="'+l+'" value="'+
f[l]+'" />'));this.object=(d?d.empty():new Element("div")).set("html",c+"</object>").firstChild},replaces:function(a){a=$(a,true);a.parentNode.replaceChild(this.toElement(),a);return this},inject:function(a){$(a,true).appendChild(this.toElement());return this},remote:function(){return Swiff.remote.apply(Swiff,[this.toElement()].extend(arguments))}});Swiff.CallBacks={};
Swiff.remote=function(a,b){var c=a.CallFunction('<invoke name="'+b+'" returntype="javascript">'+__flash__argumentsToXML(arguments,2)+"</invoke>");return eval(c)};
var Fx=new Class({Implements:[Chain,Events,Options],options:{fps:50,unit:!1,duration:500,link:"ignore",transition:function(a){return-(Math.cos(Math.PI*a)-1)/2}},initialize:function(a){this.subject=this.subject||this;this.setOptions(a);this.options.duration=Fx.Durations[this.options.duration]||this.options.duration.toInt();if(this.options.wait===false)this.options.link="cancel"},step:function(){var a=$time();if(a<this.time+this.options.duration){a=this.options.transition((a-this.time)/this.options.duration);
this.set(this.compute(this.from,this.to,a))}else{this.set(this.compute(this.from,this.to,1));this.complete()}},set:function(a){return a},compute:function(a,b,c){return Fx.compute(a,b,c)},check:function(a){if(!this.timer)return true;switch(this.options.link){case "cancel":this.cancel();return true;case "chain":this.chain(a.bind(this,Array.slice(arguments,1)))}return false},start:function(a,b){if(!this.check(arguments.callee,a,b))return this;this.from=a;this.to=b;this.time=0;this.startTimer();this.onStart();
return this},complete:function(){if(this.stopTimer())this.onComplete();return this},cancel:function(){if(this.stopTimer())this.onCancel();return this},onStart:function(){this.fireEvent("start",this.subject)},onComplete:function(){this.fireEvent("complete",this.subject);this.callChain()||this.fireEvent("chainComplete",this.subject)},onCancel:function(){this.fireEvent("cancel",this.subject).clearChain()},pause:function(){this.stopTimer();return this},resume:function(){this.startTimer();return this},
stopTimer:function(){if(!this.timer)return false;this.time=$time()-this.time;this.timer=$clear(this.timer);return true},startTimer:function(){if(this.timer)return false;this.time=$time()-this.time;this.timer=this.step.periodical(Math.round(1E3/this.options.fps),this);return true}});Fx.compute=function(a,b,c){return(b-a)*c+a};Fx.Durations={"short":250,normal:500,"long":1E3};
Fx.CSS=new Class({Extends:Fx,prepare:function(a,b,c){c=$splat(c);if(!$chk(c[1])){c[1]=c[0];c[0]=a.getStyle(b)}a=c.map(this.parse);return{from:a[0],to:a[1]}},parse:function(a){a=$lambda(a)();a=typeof a=="string"?a.split(" "):$splat(a);return a.map(function(a){var a=String(a),c=false;Fx.CSS.Parsers.each(function(d){if(!c){var f=d.parse(a);$chk(f)&&(c={value:f,parser:d})}});return c=c||{value:a,parser:Fx.CSS.Parsers.String}})},compute:function(a,b,c){var d=[];Math.min(a.length,b.length).times(function(f){d.push({value:a[f].parser.compute(a[f].value,
b[f].value,c),parser:a[f].parser})});d.$family={name:"fx:css:value"};return d},serve:function(a,b){$type(a)!="fx:css:value"&&(a=this.parse(a));var c=[];a.each(function(a){c=c.concat(a.parser.serve(a.value,b))});return c},render:function(a,b,c,d){a.setStyle(b,this.serve(c,d))},search:function(a){if(Fx.CSS.Cache[a])return Fx.CSS.Cache[a];var b={};Array.each(document.styleSheets,function(c){var d=c.href;if(!d||!d.contains("://")||d.contains(document.domain))Array.each(c.rules||c.cssRules,function(c){if(c.style){var d=
c.selectorText?c.selectorText.replace(/^\w+/,function(a){return a.toLowerCase()}):null;d&&d.test("^"+a+"$")&&Element.Styles.each(function(a,d){if(c.style[d]&&!Element.ShortStyles[d]){a=String(c.style[d]);b[d]=a.test(/^rgb/)?a.rgbToHex():a}})}})});return Fx.CSS.Cache[a]=b}});Fx.CSS.Cache={};
Fx.CSS.Parsers=new Hash({Color:{parse:function(a){return a.match(/^#[0-9a-f]{3,6}$/i)?a.hexToRgb(true):(a=a.match(/(\d+),\s*(\d+),\s*(\d+)/))?[a[1],a[2],a[3]]:false},compute:function(a,b,c){return a.map(function(d,f){return Math.round(Fx.compute(a[f],b[f],c))})},serve:function(a){return a.map(Number)}},Number:{parse:parseFloat,compute:Fx.compute,serve:function(a,b){return b?a+b:a}},String:{parse:$lambda(!1),compute:$arguments(1),serve:$arguments(0)}});
Fx.Tween=new Class({Extends:Fx.CSS,initialize:function(a,b){this.element=this.subject=$(a);this.parent(b)},set:function(a,b){if(arguments.length==1){b=a;a=this.property||this.options.property}this.render(this.element,a,b,this.options.unit);return this},start:function(a,b,c){if(!this.check(arguments.callee,a,b,c))return this;var d=Array.flatten(arguments);this.property=this.options.property||d.shift();d=this.prepare(this.element,this.property,d);return this.parent(d.from,d.to)}});
Element.Properties.tween={set:function(a){var b=this.retrieve("tween");b&&b.cancel();return this.eliminate("tween").store("tween:options",$extend({link:"cancel"},a))},get:function(a){if(a||!this.retrieve("tween")){(a||!this.retrieve("tween:options"))&&this.set("tween",a);this.store("tween",new Fx.Tween(this,this.retrieve("tween:options")))}return this.retrieve("tween")}};
Element.implement({tween:function(a,b,c){this.get("tween").start(arguments);return this},fade:function(a){var b=this.get("tween"),c,a=$pick(a,"toggle");switch(a){case "in":b.start("opacity",1);break;case "out":b.start("opacity",0);break;case "show":b.set("opacity",1);break;case "hide":b.set("opacity",0);break;case "toggle":c=this.retrieve("fade:flag",this.get("opacity")==1);b.start("opacity",c?0:1);this.store("fade:flag",!c);c=true;break;default:b.start("opacity",arguments)}c||this.eliminate("fade:flag");
return this},highlight:function(a,b){if(!b){b=this.retrieve("highlight:original",this.getStyle("background-color"));b=b=="transparent"?"#fff":b}var c=this.get("tween");c.start("background-color",a||"#ffff88",b).chain(function(){this.setStyle("background-color",this.retrieve("highlight:original"));c.callChain()}.bind(this));return this}});
Fx.Morph=new Class({Extends:Fx.CSS,initialize:function(a,b){this.element=this.subject=$(a);this.parent(b)},set:function(a){typeof a=="string"&&(a=this.search(a));for(var b in a)this.render(this.element,b,a[b],this.options.unit);return this},compute:function(a,b,c){var d={},f;for(f in a)d[f]=this.parent(a[f],b[f],c);return d},start:function(a){if(!this.check(arguments.callee,a))return this;typeof a=="string"&&(a=this.search(a));var b={},c={},d;for(d in a){var f=this.prepare(this.element,d,a[d]);b[d]=
f.from;c[d]=f.to}return this.parent(b,c)}});Element.Properties.morph={set:function(a){var b=this.retrieve("morph");b&&b.cancel();return this.eliminate("morph").store("morph:options",$extend({link:"cancel"},a))},get:function(a){if(a||!this.retrieve("morph")){(a||!this.retrieve("morph:options"))&&this.set("morph",a);this.store("morph",new Fx.Morph(this,this.retrieve("morph:options")))}return this.retrieve("morph")}};Element.implement({morph:function(a){this.get("morph").start(a);return this}});
(function(){var a=Fx.prototype.initialize;Fx.prototype.initialize=function(b){a.call(this,b);b=this.options.transition;if(typeof b=="string"&&(b=b.split(":"))){var c=Fx.Transitions,c=c[b[0]]||c[b[0].capitalize()];b[1]&&(c=c["ease"+b[1].capitalize()+(b[2]?b[2].capitalize():"")]);this.options.transition=c}}})();
Fx.Transition=function(a,b){b=$splat(b);return $extend(a,{easeIn:function(c){return a(c,b)},easeOut:function(c){return 1-a(1-c,b)},easeInOut:function(c){return c<=0.5?a(2*c,b)/2:(2-a(2*(1-c),b))/2}})};Fx.Transitions=new Hash({linear:$arguments(0)});Fx.Transitions.extend=function(a){for(var b in a)Fx.Transitions[b]=new Fx.Transition(a[b])};
Fx.Transitions.extend({Pow:function(a,b){return Math.pow(a,b[0]||6)},Expo:function(a){return Math.pow(2,8*(a-1))},Circ:function(a){return 1-Math.sin(Math.acos(a))},Sine:function(a){return 1-Math.sin((1-a)*Math.PI/2)},Back:function(a,b){b=b[0]||1.618;return Math.pow(a,2)*((b+1)*a-b)},Bounce:function(a){for(var b,c=0,d=1;;c=c+d,d=d/2)if(a>=(7-4*c)/11){b=-Math.pow((11-6*c-11*a)/4,2)+d*d;break}return b},Elastic:function(a,b){return Math.pow(2,10*--a)*Math.cos(20*a*Math.PI*(b[0]||1)/3)}});
["Quad","Cubic","Quart","Quint"].each(function(a,b){Fx.Transitions[a]=new Fx.Transition(function(a){return Math.pow(a,[b+2])})});
var Request=new Class({Implements:[Chain,Events,Options],options:{url:"",data:"",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*"},async:!0,format:!1,method:"post",link:"ignore",isSuccess:null,emulation:!0,urlEncoded:!0,encoding:"utf-8",evalScripts:!1,evalResponse:!1},initialize:function(a){this.xhr=new BrowserObject.Request;this.setOptions(a);this.options.isSuccess=this.options.isSuccess||this.isSuccess;this.headers=new Hash(this.options.headers)},
onStateChange:function(){if(this.xhr.readyState==4&&this.running){this.running=false;this.status=0;$try(function(){this.status=this.xhr.status}.bind(this));if(this.options.isSuccess.call(this,this.status)){this.response={text:this.xhr.responseText,xml:this.xhr.responseXML};this.success(this.response.text,this.response.xml)}else{this.response={text:null,xml:null};this.failure()}this.xhr.onreadystatechange=$empty}},isSuccess:function(){return this.status>=200&&this.status<300},processScripts:function(a){return this.options.evalResponse||
/(ecma|java)script/.test(this.getHeader("Content-type"))?$exec(a):a.stripScripts(this.options.evalScripts)},success:function(a,b){this.onSuccess(this.processScripts(a),b)},onSuccess:function(){this.fireEvent("complete",arguments).fireEvent("success",arguments).callChain()},failure:function(){this.onFailure()},onFailure:function(){this.fireEvent("complete").fireEvent("failure",this.xhr)},setHeader:function(a,b){this.headers.set(a,b);return this},getHeader:function(a){return $try(function(){return this.xhr.getResponseHeader(a)}.bind(this))},
check:function(a){if(!this.running)return true;switch(this.options.link){case "cancel":this.cancel();return true;case "chain":this.chain(a.bind(this,Array.slice(arguments,1)))}return false},send:function(a){if(!this.check(arguments.callee,a))return this;this.running=true;var b=$type(a);if(b=="string"||b=="element")a={data:a};var b=this.options,a=$extend({data:b.data,url:b.url,method:b.method},a),b=a.data,c=a.url,d=a.method;switch($type(b)){case "element":b=$(b).toQueryString();break;case "object":case "hash":b=
Hash.toQueryString(b)}if(this.options.format)var f="format="+this.options.format,b=b?f+"&"+b:f;if(this.options.emulation&&["put","delete"].contains(d)){d="_method="+d;b=b?d+"&"+b:d;d="post"}this.options.urlEncoded&&d=="post"&&this.headers.set("Content-type","application/x-www-form-urlencoded"+(this.options.encoding?"; charset="+this.options.encoding:""));if(b&&d=="get"){c=c+(c.contains("?")?"&":"?")+b;b=null}this.xhr.open(d.toUpperCase(),c,this.options.async);this.xhr.onreadystatechange=this.onStateChange.bind(this);
this.headers.each(function(a,b){$try(function(){this.xhr.setRequestHeader(b,a);return true}.bind(this))||this.fireEvent("exception",[b,a])},this);this.fireEvent("request");this.xhr.send(b);if(!this.options.async)this.onStateChange();return this},cancel:function(){if(!this.running)return this;this.running=false;this.xhr.abort();this.xhr.onreadystatechange=$empty;this.xhr=new BrowserObject.Request;this.fireEvent("cancel");return this}});
(function(){var a={};["get","post","put","delete","GET","POST","PUT","DELETE"].each(function(b){a[b]=function(){var a=Array.link(arguments,{url:String.type,data:$defined});return this.send($extend(a,{method:b.toLowerCase()}))}});Request.implement(a)})();
Element.Properties.send={set:function(a){var b=this.retrieve("send");b&&b.cancel();return this.eliminate("send").store("send:options",$extend({data:this,link:"cancel",method:this.get("method")||"post",url:this.get("action")},a))},get:function(a){if(a||!this.retrieve("send")){(a||!this.retrieve("send:options"))&&this.set("send",a);this.store("send",new Request(this.retrieve("send:options")))}return this.retrieve("send")}};
Element.implement({send:function(a){var b=this.get("send");b.send({data:this,url:a||b.options.url});return this}});
Request.HTML=new Class({Extends:Request,options:{update:!1,evalScripts:!0,filter:!1},processHTML:function(a){var b=a.match(/<body[^>]*>([\s\S]*?)<\/body>/i),a=b?b[1]:a,c=new Element("div");return $try(function(){var b="<root>"+a+"</root>",f;if(BrowserObject.Engine.trident){f=new ActiveXObject("Microsoft.XMLDOM");f.async=false;f.loadXML(b)}else f=(new DOMParser).parseFromString(b,"text/xml");b=f.getElementsByTagName("root")[0];f=0;for(var g=b.childNodes.length;f<g;f++){var h=Element.clone(b.childNodes[f],
true,true);h&&c.grab(h)}return c})||c.set("html",a)},success:function(a){var b=this.options,c=this.response;c.html=a.stripScripts(function(a){c.javascript=a});a=this.processHTML(c.html);c.tree=a.childNodes;c.elements=a.getElements("*");if(b.filter)c.tree=c.elements.filter(b.filter);b.update&&$(b.update).empty().adopt(c.tree);b.evalScripts&&$exec(c.javascript);this.onSuccess(c.tree,c.elements,c.html,c.javascript)}});
Element.Properties.load={set:function(a){this.retrieve("load")&&send.cancel();return this.eliminate("load").store("load:options",$extend({data:this,link:"cancel",update:this,method:"get"},a))},get:function(a){if(a||!this.retrieve("load")){(a||!this.retrieve("load:options"))&&this.set("load",a);this.store("load",new Request.HTML(this.retrieve("load:options")))}return this.retrieve("load")}};
Element.implement({load:function(){this.get("load").send(Array.link(arguments,{data:Object.type,url:String.type}));return this}});
Fx.Scroll=new Class({Extends:Fx,options:{offset:{x:0,y:0},wheelStops:!0},initialize:function(a,b){this.element=this.subject=$(a);this.parent(b);var c=this.cancel.bind(this,false);if($type(this.element)!="element")this.element=$(this.element.getDocument().body);var d=this.element;if(this.options.wheelStops){this.addEvent("start",function(){d.addEvent("mousewheel",c)},true);this.addEvent("complete",function(){d.removeEvent("mousewheel",c)},true)}},set:function(){var a=Array.flatten(arguments);this.element.scrollTo(a[0],
a[1])},compute:function(a,b,c){var d=[];(2).times(function(f){d.push(Fx.compute(a[f],b[f],c))});return d},start:function(a,b){if(!this.check(arguments.callee,a,b))return this;var c=this.element.getSize(),d=this.element.getScrollSize(),f=this.element.getScroll(),g={x:a,y:b},h;for(h in g){var i=d[h]-c[h];g[h]=$chk(g[h])?$type(g[h])=="number"?g[h].limit(0,i):i:f[h];g[h]=g[h]+this.options.offset[h]}return this.parent([f.x,f.y],[g.x,g.y])},toTop:function(){return this.start(false,0)},toLeft:function(){return this.start(0,
false)},toRight:function(){return this.start("right",false)},toBottom:function(){return this.start(false,"bottom")},toElement:function(a){a=$(a).getPosition(this.element);return this.start(a.x,a.y)}});
Fx.Elements=new Class({Extends:Fx.CSS,initialize:function(a,b){this.elements=this.subject=$$(a);this.parent(b)},compute:function(a,b,c){var d={},f;for(f in a){var g=a[f],h=b[f],i=d[f]={},m;for(m in g)i[m]=this.parent(g[m],h[m],c)}return d},set:function(a){for(var b in a){var c=a[b],d;for(d in c)this.render(this.elements[b],d,c[d],this.options.unit)}return this},start:function(a){if(!this.check(arguments.callee,a))return this;var b={},c={},d;for(d in a){var f=a[d],g=b[d]={},h=c[d]={},i;for(i in f){var m=
this.prepare(this.elements[d],i,f[i]);g[i]=m.from;h[i]=m.to}}return this.parent(b,c)}});var Color=new Native({initialize:function(a,b){if(arguments.length>=3){b="rgb";a=Array.slice(arguments,0,3)}else typeof a=="string"&&(a=a.match(/rgb/)?a.rgbToHex().hexToRgb(true):a.match(/hsb/)?a.hsbToRgb():a.hexToRgb(true));switch(b||"rgb"){case "hsb":var c=a,a=a.hsbToRgb();a.hsb=c;break;case "hex":a=a.hexToRgb(true)}a.rgb=a.slice(0,3);a.hsb=a.hsb||a.rgbToHsb();a.hex=a.rgbToHex();return $extend(a,this)}});
Color.implement({mix:function(){var a=Array.slice(arguments),b=$type(a.getLast())=="number"?a.pop():50,c=this.slice();a.each(function(a){for(var a=new Color(a),f=0;f<3;f++)c[f]=Math.round(c[f]/100*(100-b)+a[f]/100*b)});return new Color(c,"rgb")},invert:function(){return new Color(this.map(function(a){return 255-a}))},setHue:function(a){return new Color([a,this.hsb[1],this.hsb[2]],"hsb")},setSaturation:function(a){return new Color([this.hsb[0],a,this.hsb[2]],"hsb")},setBrightness:function(a){return new Color([this.hsb[0],
this.hsb[1],a],"hsb")}});function $RGB(a,b,c){return new Color([a,b,c],"rgb")}function $HSB(a,b,c){return new Color([a,b,c],"hsb")}function $HEX(a){return new Color(a,"hex")}
Array.implement({rgbToHsb:function(){var a=this[0],b=this[1],c=this[2],d,f,g=Math.max(a,b,c);d=Math.min(a,b,c);var h=g-d;f=g/255;d=g!=0?h/g:0;if(d==0)a=0;else{var i=(g-a)/h,m=(g-b)/h,c=(g-c)/h,a=(a==g?c-m:b==g?2+i-c:4+m-i)/6;a<0&&a++}return[Math.round(a*360),Math.round(d*100),Math.round(f*100)]},hsbToRgb:function(){var a=Math.round(this[2]/100*255);if(this[1]==0)return[a,a,a];var b=this[0]%360,c=b%60,d=Math.round(this[2]*(100-this[1])/1E4*255),f=Math.round(this[2]*(6E3-this[1]*c)/6E5*255),c=Math.round(this[2]*
(6E3-this[1]*(60-c))/6E5*255);switch(Math.floor(b/60)){case 0:return[a,c,d];case 1:return[f,a,d];case 2:return[d,a,c];case 3:return[d,f,a];case 4:return[c,d,a];case 5:return[a,d,f]}return false}});String.implement({rgbToHsb:function(){return this.match(/\d{1,3}/g)?hsb.rgbToHsb():null},hsbToRgb:function(){var a=this.match(/\d{1,3}/g);return a?a.hsbToRgb():null}});
var Group=new Class({initialize:function(){this.instances=Array.flatten(arguments);this.events={};this.checker={}},addEvent:function(a,b){this.checker[a]=this.checker[a]||{};this.events[a]=this.events[a]||[];if(this.events[a].contains(b))return false;this.events[a].push(b);this.instances.each(function(b,d){b.addEvent(a,this.check.bind(this,[a,b,d]))},this);return this},check:function(a,b,c){this.checker[a][c]=true;if(this.instances.every(function(b,c){return this.checker[a][c]||false},this)){this.checker[a]=
{};this.events[a].each(function(a){a.call(this,this.instances,b)},this)}}}),Asset=new Hash({javascript:function(a,b){var b=$extend({onload:$empty,document:document,check:$lambda(true)},b),c=new Element("script",{src:a,type:"text/javascript"}),d=b.onload.bind(c),f=b.check,g=b.document;delete b.onload;delete b.check;delete b.document;c.addEvents({load:d,readystatechange:function(){["loaded","complete"].contains(this.readyState)&&d()}}).setProperties(b);if(BrowserObject.Engine.webkit419)var h=function(){if($try(f)){$clear(h);
d()}}.periodical(50);return c.inject(g.head)},css:function(a,b){return(new Element("link",$merge({rel:"stylesheet",media:"screen",type:"text/css",href:a},b))).inject(document.head)},image:function(a,b){var b=$merge({onload:$empty,onabort:$empty,onerror:$empty},b),c=new Image,d=$(c)||new Element("img");["load","abort","error"].each(function(a){var g="on"+a,h=b[g];delete b[g];c[g]=function(){if(c){if(!d.parentNode){d.width=c.width;d.height=c.height}c=c.onload=c.onabort=c.onerror=null;h.delay(1,d,d);
d.fireEvent(a,d,1)}}});c.src=d.src=a;c&&c.complete&&c.onload.delay(1);return d.setProperties(b)},images:function(a,b){b=$merge({onComplete:$empty,onProgress:$empty},b);a.push||(a=[a]);var c=[],d=0;a.each(function(f){var g=new Asset.image(f,{onload:function(){b.onProgress.call(this,d,a.indexOf(f));d++;if(d==a.length)b.onComplete()}});c.push(g)});return new Elements(c)}}),Accordion=new Class({Extends:Fx.Elements,options:{display:0,show:!1,height:!0,width:!1,opacity:!0,fixedHeight:!1,fixedWidth:!1,wait:!1,
alwaysHide:!1},initialize:function(){var a=Array.link(arguments,{container:Element.type,options:Object.type,togglers:$defined,elements:$defined});this.parent(a.elements,a.options);this.togglers=$$(a.togglers);this.container=$(a.container);this.previous=-1;if(this.options.alwaysHide)this.options.wait=true;if($chk(this.options.show)){this.options.display=false;this.previous=this.options.show}if(this.options.start){this.options.display=false;this.options.show=false}this.effects={};if(this.options.opacity)this.effects.opacity=
"fullOpacity";if(this.options.width)this.effects.width=this.options.fixedWidth?"fullWidth":"offsetWidth";if(this.options.height)this.effects.height=this.options.fixedHeight?"fullHeight":"scrollHeight";for(var a=0,b=this.togglers.length;a<b;a++)this.addSection(this.togglers[a],this.elements[a]);this.elements.each(function(a,b){if(this.options.show===b)this.fireEvent("active",[this.togglers[b],a]);else for(var f in this.effects)a.setStyle(f,0)},this);$chk(this.options.display)&&this.display(this.options.display)},
addSection:function(a,b,c){var a=$(a),b=$(b),d=this.togglers.contains(a),f=this.togglers.length;this.togglers.include(a);this.elements.include(b);if(f&&(!d||c)){c=$pick(c,f-1);a.inject(this.togglers[c],"before");b.inject(a,"after")}else if(this.container&&!d){a.inject(this.container);b.inject(this.container)}c=this.togglers.indexOf(a);a.addEvent("click",this.display.bind(this,c));this.options.height&&b.setStyles({"padding-top":0,"border-top":"none","padding-bottom":0,"border-bottom":"none"});this.options.width&&
b.setStyles({"padding-left":0,"border-left":"none","padding-right":0,"border-right":"none"});b.fullOpacity=1;if(this.options.fixedWidth)b.fullWidth=this.options.fixedWidth;if(this.options.fixedHeight)b.fullHeight=this.options.fixedHeight;b.setStyle("overflow","hidden");if(!d)for(var g in this.effects)b.setStyle(g,0);return this},display:function(a){a=$type(a)=="element"?this.elements.indexOf(a):a;if(this.timer&&this.options.wait||a===this.previous&&!this.options.alwaysHide)return this;this.previous=
a;var b={};this.elements.each(function(c,d){b[d]={};var f=d!=a||this.options.alwaysHide&&c.offsetHeight>0;this.fireEvent(f?"background":"active",[this.togglers[d],c]);for(var g in this.effects)b[d][g]=f?0:c[this.effects[g]]},this);return this.start(b)}}),swfobject=function(){function a(){if(ca.readyState=="complete"){ca.parentNode.removeChild(ca);b()}}function b(){if(!N){if(r.ie&&r.win){var a=p.createElement("span");try{var b=p.getElementsByTagName("body")[0].appendChild(a);b.parentNode.removeChild(b)}catch(c){return}}N=
true;if(H){clearInterval(H);H=null}a=n.length;for(b=0;b<a;b++)n[b]()}}function c(a){N?a():n[n.length]=a}function d(a){if(typeof o.addEventListener!=w)o.addEventListener("load",a,false);else if(typeof p.addEventListener!=w)p.addEventListener("load",a,false);else if(typeof o.attachEvent!=w)D(o,"onload",a);else if(typeof o.onload=="function"){var b=o.onload;o.onload=function(){b();a()}}else o.onload=a}function f(){for(var a=B.length,b=0;b<a;b++){var c=B[b].id;if(r.pv[0]>0){var d=l(c);if(d){B[b].width=
d.getAttribute("width")?d.getAttribute("width"):"0";B[b].height=d.getAttribute("height")?d.getAttribute("height"):"0";if(E(B[b].swfVersion)){if(r.webkit&&r.webkit<312){var f=d.getElementsByTagName(z)[0];if(f){var j=p.createElement("embed"),n=f.attributes;if(n)for(var v=n.length,o=0;o<v;o++)n[o].nodeName=="DATA"?j.setAttribute("src",n[o].nodeValue):j.setAttribute(n[o].nodeName,n[o].nodeValue);if(f=f.childNodes){n=f.length;for(v=0;v<n;v++)f[v].nodeType==1&&f[v].nodeName=="PARAM"&&j.setAttribute(f[v].getAttribute("name"),
f[v].getAttribute("value"))}d.parentNode.replaceChild(j,d)}}t(c,true)}else B[b].expressInstall&&!u&&E("6.0.65")&&(r.win||r.mac)?g(B[b]):h(d)}}else t(c,true)}}function g(a){u=true;var b=l(a.id);if(b){if(a.altContentId){var c=l(a.altContentId);if(c){L=c;Q=a.altContentId}}else L=i(b);if(!/%$/.test(a.width)&&parseInt(a.width,10)<310)a.width="310";if(!/%$/.test(a.height)&&parseInt(a.height,10)<137)a.height="137";p.title=p.title.slice(0,47)+" - Flash Player Installation";var c="MMredirectURL="+o.location+
"&MMplayerType="+(r.ie&&r.win?"ActiveX":"PlugIn")+"&MMdoctitle="+p.title,d=a.id;if(r.ie&&r.win&&b.readyState!=4){var f=p.createElement("div"),d=d+"SWFObjectNew";f.setAttribute("id",d);b.parentNode.insertBefore(f,b);b.style.display="none";D(o,"onload",function(){b.parentNode.removeChild(b)})}m({data:a.expressInstall,id:j,width:a.width,height:a.height},{flashvars:c},d)}}function h(a){if(r.ie&&r.win&&a.readyState!=4){var b=p.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(i(a),
b);a.style.display="none";D(o,"onload",function(){a.parentNode.removeChild(a)})}else a.parentNode.replaceChild(i(a),a)}function i(a){var b=p.createElement("div");if(r.win&&r.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(z)[0])if(a=a.childNodes)for(var c=a.length,d=0;d<c;d++)!(a[d].nodeType==1&&a[d].nodeName=="PARAM")&&a[d].nodeType!=8&&b.appendChild(a[d].cloneNode(true));return b}function m(a,b,c){var d,f=l(c);if(f){if(typeof a.id==w)a.id=c;if(r.ie&&r.win){var j="",n;for(n in a)if(a[n]!=
Object.prototype[n])n.toLowerCase()=="data"?b.movie=a[n]:n.toLowerCase()=="styleclass"?j=j+(' class="'+a[n]+'"'):n.toLowerCase()!="classid"&&(j=j+(" "+n+'="'+a[n]+'"'));n="";for(var g in b)b[g]!=Object.prototype[g]&&(n=n+('<param name="'+g+'" value="'+b[g]+'" />'));f.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+j+">"+n+"</object>";k[k.length]=a.id;d=l(a.id)}else if(r.webkit&&r.webkit<312){j=p.createElement("embed");j.setAttribute("type",K);for(var v in a)a[v]!=Object.prototype[v]&&
(v.toLowerCase()=="data"?j.setAttribute("src",a[v]):v.toLowerCase()=="styleclass"?j.setAttribute("class",a[v]):v.toLowerCase()!="classid"&&j.setAttribute(v,a[v]));for(var o in b)b[o]!=Object.prototype[o]&&o.toLowerCase()!="movie"&&j.setAttribute(o,b[o]);f.parentNode.replaceChild(j,f);d=j}else{g=p.createElement(z);g.setAttribute("type",K);for(var h in a)a[h]!=Object.prototype[h]&&(h.toLowerCase()=="styleclass"?g.setAttribute("class",a[h]):h.toLowerCase()!="classid"&&g.setAttribute(h,a[h]));for(j in b)if(b[j]!=
Object.prototype[j]&&j.toLowerCase()!="movie"){a=g;n=j;v=b[j];o=p.createElement("param");o.setAttribute("name",n);o.setAttribute("value",v);a.appendChild(o)}f.parentNode.replaceChild(g,f);d=g}}return d}function s(a){var b=l(a);if(b&&(b.nodeName=="OBJECT"||b.nodeName=="EMBED"))r.ie&&r.win?b.readyState==4?q(a):o.attachEvent("onload",function(){q(a)}):b.parentNode.removeChild(b)}function q(a){if(a=l(a)){for(var b in a)typeof a[b]=="function"&&(a[b]=null);a.parentNode.removeChild(a)}}function l(a){var b=
null;try{b=p.getElementById(a)}catch(c){}return b}function D(a,b,c){a.attachEvent(b,c);Z[Z.length]=[a,b,c]}function E(a){var b=r.pv,a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?true:false}function M(a,b){if(!r.ie||!r.mac){var c=p.getElementsByTagName("head")[0],d=p.createElement("style");d.setAttribute("type","text/css");d.setAttribute("media","screen");(!r.ie||!r.win)&&typeof p.createTextNode!=
w&&d.appendChild(p.createTextNode(a+" {"+b+"}"));c.appendChild(d);if(r.ie&&r.win&&typeof p.styleSheets!=w&&p.styleSheets.length>0){c=p.styleSheets[p.styleSheets.length-1];typeof c.addRule==z&&c.addRule(a,b)}}}function t(a,b){var c=b?"visible":"hidden";N&&l(a)?l(a).style.visibility=c:M("#"+a,"visibility:"+c)}function y(a){return/[\\\"<>\.;]/.exec(a)!=null?encodeURIComponent(a):a}var w="undefined",z="object",K="application/x-shockwave-flash",j="SWFObjectExprInst",o=window,p=document,v=navigator,n=[],
B=[],k=[],Z=[],ca,H=null,L=null,Q=null,N=false,u=false,r,ea=typeof p.getElementById!=w&&typeof p.getElementsByTagName!=w&&typeof p.createElement!=w,R=[0,0,0],C=null;if(typeof v.plugins!=w&&typeof v.plugins["Shockwave Flash"]==z){if((C=v.plugins["Shockwave Flash"].description)&&!(typeof v.mimeTypes!=w&&v.mimeTypes[K]&&!v.mimeTypes[K].enabledPlugin)){C=C.replace(/^.*\s+(\S+\s+\S+$)/,"$1");R[0]=parseInt(C.replace(/^(.*)\..*$/,"$1"),10);R[1]=parseInt(C.replace(/^.*\.(.*)\s.*$/,"$1"),10);R[2]=/r/.test(C)?
parseInt(C.replace(/^.*r(.*)$/,"$1"),10):0}}else if(typeof o.ActiveXObject!=w){var J=null,O=false;try{J=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(ha){try{J=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");R=[6,0,21];J.AllowScriptAccess="always"}catch(aa){R[0]==6&&(O=true)}if(!O)try{J=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(ja){}}if(!O&&J)try{if(C=J.GetVariable("$version")){C=C.split(" ")[1].split(",");R=[parseInt(C[0],10),parseInt(C[1],10),parseInt(C[2],10)]}}catch(ga){}}C=
v.userAgent.toLowerCase();O=v.platform.toLowerCase();v=/webkit/.test(C)?parseFloat(C.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false;J=O?/win/.test(O):/win/.test(C);C=O?/mac/.test(O):/mac/.test(C);r={w3cdom:ea,pv:R,webkit:v,ie:false,win:J,mac:C};if(r.w3cdom){c(f);if(r.ie&&r.win)try{p.write("<script id=__ie_ondomload defer=true src=//:><\/script>");(ca=l("__ie_ondomload"))&&D(ca,"onreadystatechange",a)}catch(ka){}r.webkit&&typeof p.readyState!=w&&(H=setInterval(function(){/loaded|complete/.test(p.readyState)&&
b()},10));typeof p.addEventListener!=w&&p.addEventListener("DOMContentLoaded",b,null);d(b)}r.ie&&r.win&&window.attachEvent("onunload",function(){for(var a=Z.length,b=0;b<a;b++)Z[b][0].detachEvent(Z[b][1],Z[b][2]);a=k.length;for(b=0;b<a;b++)s(k[b]);for(var c in r)r[c]=null;r=null;for(var d in swfobject)swfobject[d]=null;swfobject=null});return{registerObject:function(a,b,c){if(r.w3cdom&&a&&b){var d={};d.id=a;d.swfVersion=b;d.expressInstall=c?c:false;B[B.length]=d;t(a,false)}},getObjectById:function(a){var b=
null;if(r.w3cdom)if(a=l(a)){var c=a.getElementsByTagName(z)[0];!c||c&&typeof a.SetVariable!=w?b=a:typeof c.SetVariable!=w&&(b=c)}return b},embedSWF:function(a,b,d,f,j,n,p,v,o){if(r.w3cdom&&a&&b&&d&&f&&j){d=d+"";f=f+"";if(E(j)){t(b,false);var h={};if(o&&typeof o===z)for(var k in o)o[k]!=Object.prototype[k]&&(h[k]=o[k]);h.data=a;h.width=d;h.height=f;var i={};if(v&&typeof v===z)for(var l in v)v[l]!=Object.prototype[l]&&(i[l]=v[l]);if(p&&typeof p===z)for(var B in p)if(p[B]!=Object.prototype[B])i.flashvars=
typeof i.flashvars!=w?i.flashvars+("&"+B+"="+p[B]):B+"="+p[B];c(function(){m(h,i,b);h.id==b&&t(b,true)})}else if(n&&!u&&E("6.0.65")&&(r.win||r.mac)){u=true;t(b,false);c(function(){var a={};a.id=a.altContentId=b;a.width=d;a.height=f;a.expressInstall=n;g(a)})}}},getFlashPlayerVersion:function(){return{major:r.pv[0],minor:r.pv[1],release:r.pv[2]}},hasFlashPlayerVersion:E,createSWF:function(a,b,c){if(r.w3cdom)return m(a,b,c)},removeSWF:function(a){r.w3cdom&&s(a)},createCSS:function(a,b){r.w3cdom&&M(a,
b)},addDomLoadEvent:c,addLoadEvent:d,getQueryParamValue:function(a){var b=p.location.search||p.location.hash;if(a==null)return y(b);if(b)for(var b=b.substring(1).split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return y(b[c].substring(b[c].indexOf("=")+1));return""},expressInstallCallback:function(){if(u&&L){var a=l(j);if(a){a.parentNode.replaceChild(L,a);if(Q){t(Q,true);if(r.ie&&r.win)L.style.display="block"}Q=L=null;u=false}}}}}(),Ubisoft={settings:{flash:{version:9,rev:0,
build:48},hasFlash:null,debug:{Surrounder:!1,Promo:!1},stopFirefox2Animation:!1,transition:{duration:"350"}},Global:null,Navigation:null,Login:null,Localization:null,Promo:null,Homepage:null,Gamefinder:null,GameListing:null,Advertisement:null};DropdownManager={select:function(a){this.getElement("span").set("html",a.innerHTML);$$("select[id$="+this.get("label")+"]")[0].value=a.get("label");this.fireEvent("click")}};function checkForm(){}
Ubisoft.Global={init:function(){if($("btn-submit-container")){$("btn-submit-container").addEvent("mouseenter",function(){this.getElement("a").addClass("hover")});$("btn-submit-container").addEvent("mouseleave",function(){this.getElement("a").removeClass("hover")})}$$("input.submit").each(function(a){a.addEvent("mouseenter",function(){this.addClass("over")});a.addEvent("mouseleave",function(){this.removeClass("over")})});BrowserObject.Engine.trident4&&$$("a.ie6").each(function(a){a.addEvent("mouseenter",
function(){this.addClass("hover")});a.addEvent("mouseleave",function(){this.removeClass("hover")})});$$("input.text").each(function(a){a.get("label")||a.set("label",a.value);a.addEvent("focus",function(){if(a.value==a.get("label"))a.value=""});a.addEvent("blur",function(){a.value.trim()})});$$("div.dropdown").each(function(a,b){a.setStyle("z-index",20-b);var c=a.getElement("div.nav-wrapper");if(c){if(a.get("label")!=null){index=0;var d=DropdownManager.select.bind(a);c.getElements("a").each(function(a){a.addEvent("click",
function(){d(a);return false});index++})}a.addEvent("click",function(){var a=this.getElement("div.nav-wrapper");if(a.getStyle("visibility")=="visible")Ubisoft.Navigation.closeItem.bind(a)();else{Surrounder.hide();a.setStyles({height:a.getChildren()[0].getSize().y,visibility:"visible"});Ubisoft.Navigation.element=a}});a.addEvent("mouseenter",function(){this.addClass("hover");Ubisoft.Navigation.closeItem.bind(this.getElement("div.nav-wrapper"))()});a.addEvent("mouseleave",function(){this.removeClass("hover");
Ubisoft.Navigation.closeItem.bind(this.getElement("div.nav-wrapper"))()})}else a.addEvent("mouseenter",function(){Surrounder.hide()})})}};
Ubisoft.Navigation={element:null,settings:{transition:{duration:"200"},offset:39},init:function(){if(Ubisoft.settings.stopFirefox2Animation&&BrowserObject.Engine.gecko&&BrowserObject.Engine.version==18)this.settings.transition.duration="0";$$("li.nav").each(function(a){var b=a.getElement("div.nav-wrapper");if(b||a.hasClass("dropmenu")){var c=-1;b.getElements("a").each(function(a){c=a.getSize().x>c?a.getSize().x:c;a.setStyle("display","block")});c=c==-1?-1:c<90?90:c;c!=-1&&a.hasClass("dropmenu")&&
b.setStyle("width",c+15);navigator.platform&&(navigator.platform=="MacPPC"&&BrowserObject.Engine.gecko19)&&b.setStyles({background:"black"});a.addEvent("mouseenter",function(){if(!Ubisoft.Localization.isOpen){Surrounder.hide();var a=this.getElement("div.nav-wrapper");a.setStyles({height:a.getChildren()[0].getStyle("height"),visibility:"visible"});Ubisoft.Navigation.element=a;this.addClass("on");this.addClass("white")}});a.addEvent("mouseleave",function(){Ubisoft.Navigation.closeItem.bind(this.getElement("div.nav-wrapper"))()});
if(BrowserObject.Engine.webkit)(b=a.getElement("img.arrow"))&&b.setStyle("left",a.getSize().x-(a.id=="locale"?10:45))}else a.addEvent("mouseenter",function(){Ubisoft.Localization.isOpen||Surrounder.hide()})})},closeItem:function(){this.setStyles({height:0,visibility:"hidden"});this.getParent().removeClass("on");this.getParent().removeClass("white")}};
Ubisoft.Localization={searchBar:null,settings:{transition:{duration:"350"},offset:25},isOpen:!1,list:null,subList:null,init:function(){},setLocale:function(a){$("internaltionalselector").value=a.name;Surrounder.hide();$("Default").submit()}};
var Surrounder={elements:{parent:null,left:null,top:null,right:null,bottom:null},callback:null,initialize:function(){Ubisoft.settings.debug.Surrounder&&new Asset.css("resources/css/debug_stylesheet.css",{id:"debugCSS"});if(this.elements.parent){this.elements.parent=$("surround");this.elements.top=$("surround-top");this.elements.bottom=$("surround-bottom");this.elements.left=$("surround-left");this.elements.right=$("surround-right");this.elements.parent.addEvent("mouseover",this.hide)}},el:null,draw:function(a,
b,c){c||(c=0);this.callback=b;this.el=a;var a=a.getCoordinates(),b=window.getScrollSize(),d=window.getSize();d.x=d.x-25;Surrounder.elements.top.setStyles({height:a.top-c,width:d.x});Surrounder.elements.bottom.setStyles({height:b.y-(a.top+a.height),top:a.top+a.height,width:d.x});Surrounder.elements.left.setStyles({height:a.height+c,top:a.top-c,width:a.left.limit(0,99999)});Surrounder.elements.right.setStyles({height:a.height+c,top:a.top-c,width:(d.x-(a.width+a.left)).limit(0,99999),left:a.width+a.left})},
hide:function(){}};Ubisoft.Advertisement={init:function(){$("promo-spot")&&$("promo-spot").get("html").length>=5&&$("promo-advertisement").setStyle("visibility","visible")}};window.addEvent("domready",function(){Surrounder.initialize();Ubisoft.Global.init();Ubisoft.Navigation.init();Ubisoft.Advertisement.init()});function test(a){a==0?$("iframe-container").setStyle("height",27):a==1&&$("iframe-container").setStyle("height",397)}
var sIFR=new function(){var a,b,c,d;function f(){function a(b){return b.toLocaleUpperCase()}this.normalize=function(a){return a.replace(/\n|\r|\xA0/g,f.SINGLE_WHITESPACE).replace(/\s+/g,f.SINGLE_WHITESPACE)};this.textTransform=function(b,c){switch(b){case "uppercase":return c.toLocaleUpperCase();case "lowercase":return c.toLocaleLowerCase();case "capitalize":return c.replace(/^\w|\s\w/g,a)}return c};this.toHexString=function(a){if(a.charAt(0)!="#"||a.length!=4&&a.length!=7)return a;a=a.substring(1);
return"0x"+(a.length==3?a.replace(/(.)(.)(.)/,"$1$1$2$2$3$3"):a)};this.toJson=function(a,b){var c="";switch(typeof a){case "string":c='"'+b(a)+'"';break;case "number":case "boolean":c=a.toString();break;case "object":var c=[],d;for(d in a)a[d]!=Object.prototype[d]&&c.push('"'+d+'":'+this.toJson(a[d]));c="{"+c.join(",")+"}"}return c};this.convertCssArg=function(a){if(!a)return{};if(typeof a=="object")if(a.constructor==Array)a=a.join("");else return a;for(var b={},a=a.split("}"),c=0;c<a.length;c++){var d=
a[c].match(/([^\s{]+)\s*\{(.+)\s*;?\s*/);if(d&&d.length==3){b[d[1]]||(b[d[1]]={});for(var f=d[2].split(";"),j=0;j<f.length;j++){var g=f[j].match(/\s*([^:\s]+)\s*\:\s*([^;]+)/);g&&g.length==3&&(b[d[1]][g[1]]=g[2].replace(/\s+$/,""))}}}return b};this.extractFromCss=function(a,b,c,d){var f=null;if(a&&a[b]&&a[b][c]){f=a[b][c];d&&delete a[b][c]}return f};this.cssToString=function(a){var b=[],c;for(c in a){var d=a[c];if(d!=Object.prototype[c]){b.push(c,"{");for(var j in d)if(d[j]!=Object.prototype[j]){var g=
d[j];f.UNIT_REMOVAL_PROPERTIES[j]&&(g=parseInt(g,10));b.push(j,":",g,";")}b.push("}")}}return b.join("")};this.escape=function(a){return escape(a).replace(/\+/g,"%2B")};this.encodeVars=function(a){return a.join("&").replace(/%/g,"%25")};this.copyProperties=function(a,b){for(var c in a)b[c]===void 0&&(b[c]=a[c]);return b};this.domain=function(){var a="";try{a=document.domain}catch(b){}return a};this.domainMatches=function(a,b){if(b=="*"||b==a)return true;var c=b.lastIndexOf("*");if(c>-1){b=b.substr(c+
1);c=a.lastIndexOf(b);if(c>-1&&c+b.length==a.length)return true}return false};this.uriEncode=function(a){return encodeURI(decodeURIComponent(a))};this.delay=function(a,b,c){var d=Array.prototype.slice.call(arguments,3);setTimeout(function(){b.apply(c,d)},a)}}function g(a){function b(d,f,g){var h=c.getStyleAsInt(d,f,a.ua.ie);if(h==0)for(var h=d[g],i=3;i<arguments.length;i++)h=h-c.getStyleAsInt(d,arguments[i],true);return h}var c=this;this.getBody=function(){return document.getElementsByTagName("body")[0]||
null};this.querySelectorAll=function(a){return window.parseSelector(a)};this.addClass=function(a,b){if(b)b.className=((b.className||"")==""?"":b.className+" ")+a};this.removeClass=function(a,b){if(b)b.className=b.className.replace(RegExp("(^|\\s)"+a+"(\\s|$)"),"").replace(/^\s+|(\s)\s+/g,"$1")};this.hasClass=function(a,b){return RegExp("(^|\\s)"+a+"(\\s|$)").test(b.className)};this.hasOneOfClassses=function(a,b){for(var c=0;c<a.length;c++)if(this.hasClass(a[c],b))return true;return false};this.ancestorHasClass=
function(a,b){for(a=a.parentNode;a&&a.nodeType==1;){if(this.hasClass(b,a))return true;a=a.parentNode}return false};this.create=function(a,b){var c=document.createElementNS?document.createElementNS(g.XHTML_NS,a):document.createElement(a);if(b)c.className=b;return c};this.getComputedStyle=function(a,b){var c;if(document.defaultView&&document.defaultView.getComputedStyle)c=(c=document.defaultView.getComputedStyle(a,null))?c[b]:null;else a.currentStyle&&(c=a.currentStyle[b]);return c||""};this.getStyleAsInt=
function(a,b,c){a=this.getComputedStyle(a,b);return c&&!/px$/.test(a)?0:parseInt(a)||0};this.getWidthFromStyle=function(a){return b(a,"width","offsetWidth","paddingRight","paddingLeft","borderRightWidth","borderLeftWidth")};this.getHeightFromStyle=function(a){return b(a,"height","offsetHeight","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth")};this.getDimensions=function(a){var b=a.offsetWidth,c=a.offsetHeight;if(b==0||c==0)for(var d=0;d<a.childNodes.length;d++){var f=a.childNodes[d];
if(f.nodeType==1){b=Math.max(b,f.offsetWidth);c=Math.max(c,f.offsetHeight)}}return{width:b,height:c}};this.getViewport=function(){return{width:window.innerWidth||document.documentElement.clientWidth||this.getBody().clientWidth,height:window.innerHeight||document.documentElement.clientHeight||this.getBody().clientHeight}};this.blurElement=function(a){try{a.blur();return}catch(b){}var c=this.create("input");c.style.width="0px";c.style.height="0px";a.parentNode.appendChild(c);c.focus();c.blur();c.parentNode.removeChild(c)}}
function h(){var a=navigator.userAgent.toLowerCase(),b=(navigator.product||"").toLowerCase(),c=navigator.platform.toLowerCase();this.parseVersion=h.parseVersion;this.macintosh=/^mac/.test(c);this.windows=/^win/.test(c);this.quicktime=false;this.opera=/opera/.test(a);this.konqueror=/konqueror/.test(b);this.ieSupported=(this.ie=false)&&!/ppc|smartphone|iemobile|msie\s5\.5/.test(a);this.ieWin=this.ie&&this.windows;this.windows=this.windows&&(!this.ie||this.ieWin);this.ieMac=this.ie&&this.macintosh;this.macintosh=
this.macintosh&&(!this.ie||this.ieMac);this.safari=/safari/.test(a);this.khtml=(this.webkit=!this.konqueror&&/applewebkit/.test(a))||this.konqueror;this.gecko=!this.webkit&&b=="gecko";this.ieVersion=this.ie&&/.*msie\s(\d\.\d)/.exec(a)?this.parseVersion(RegExp.$1):"0";this.operaVersion=this.opera&&/.*opera(\s|\/)(\d+\.\d+)/.exec(a)?this.parseVersion(RegExp.$2):"0";this.webkitVersion=this.webkit&&/.*applewebkit\/(\d+).*/.exec(a)?this.parseVersion(RegExp.$1):"0";this.geckoVersion=this.gecko&&/.*rv:\s*([^\)]+)\)\s+gecko/.exec(a)?
this.parseVersion(RegExp.$1):"0";this.konquerorVersion=this.konqueror&&/.*konqueror\/([\d\.]+).*/.exec(a)?this.parseVersion(RegExp.$1):"0";this.flashVersion=0;if(this.ieWin){var d,a=false;try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(f){try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");this.flashVersion=this.parseVersion("6");d.AllowScriptAccess="always"}catch(g){a=this.flashVersion==this.parseVersion("6")}if(!a)try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(k){}}if(!a&&
d)this.flashVersion=this.parseVersion((d.GetVariable("$version")||"").replace(/^\D+(\d+)\D+(\d+)\D+(\d+).*/g,"$1.$2.$3"))}else if(navigator.plugins&&navigator.plugins["Shockwave Flash"]){d=navigator.plugins["Shockwave Flash"].description.replace(/^.*\s+(\S+\s+\S+$)/,"$1");a=d.replace(/^\D*(\d+\.\d+).*$/,"$1");/r/.test(d)?a=a+d.replace(/^.*r(\d*).*$/,".$1"):/d/.test(d)&&(a=a+".0");this.flashVersion=this.parseVersion(a);d=false;a=0;for(b=this.flashVersion>=h.MIN_FLASH_VERSION;b&&a<navigator.mimeTypes.length;a++){c=
navigator.mimeTypes[a];if(c.type=="application/x-shockwave-flash"&&c.enabledPlugin){d=true;if(c.enabledPlugin.description.toLowerCase().indexOf("quicktime")>-1){b=false;this.quicktime=true}}}if(this.quicktime||!d)this.flashVersion=this.parseVersion("0")}this.flash=this.flashVersion>=h.MIN_FLASH_VERSION;this.transparencySupport=this.macintosh||this.windows;this.computedStyleSupport=this.ie||!!document.defaultView.getComputedStyle;this.fixFocus=this.gecko&&this.windows;this.nativeDomLoaded=this.gecko||
this.webkit&&this.webkitVersion>=this.parseVersion("525")||this.konqueror&&this.konquerorMajor>this.parseVersion("03")||this.opera;this.mustCheckStyle=this.khtml||this.opera;this.forcePageLoad=this.webkit&&this.webkitVersion<this.parseVersion("523");this.properDocument=typeof document.location=="object";this.supported=this.flash&&this.properDocument&&(!this.ie||this.ieSupported)&&this.computedStyleSupport&&(!this.opera||this.operaVersion>=this.parseVersion("9.50"))&&(!this.webkit||this.webkitVersion>=
this.parseVersion("412"))&&(!this.gecko||this.geckoVersion>=this.parseVersion("1.8.0.12"))&&!this.konqueror}function i(a,b,c,d,f){this.sIFR=a;this.id=b;this.vars=c;this.movie=null;this.__forceWidth=d;this.__events=f;this.__resizing=0}function m(){if(l.domains.length==0)return true;for(var a=t.domain(),b=0;b<l.domains.length;b++)if(t.domainMatches(a,l.domains[b]))return true;return false}function s(a,b){for(var c=0;c<b.length;c=c+2)if(a<=b[c])return b[c+1];return b[b.length-1]||1}function q(){var a=
q.viewport,b=y.getViewport();if(!a||!(b.width==a.width&&b.height==a.height)){q.viewport=b;if(l.replacements.length!=0){q.timer&&clearTimeout(q.timer);q.timer=setTimeout(function(){delete q.timer;for(var a=0;a<l.replacements.length;a++)l.replacements[a].resize()},200)}}}var l=this;a="sIFR-flash";b="sIFR-fixfocus";c="sIFR-dummy";d=void 0;d=["sIFR-replaced","sIFR-ignore","sIFR-alternate"];this.MIN_FONT_SIZE=6;this.MAX_FONT_SIZE=126;this.FLASH_PADDING_BOTTOM=5;this.VERSION="419";this.isActive=false;this.setPrefetchCookie=
this.autoInitialize=this.fixHover=this.isEnabled=true;this.cookiePath="/";this.domains=[];this.forceWidth=true;this.fitExactly=false;this.useDomLoaded=this.forceTextTransform=true;this.hasFlashClassSet=this.useStyleCheck=false;this.repaintOnResize=true;this.replacements=[];var D=0,E=false;f.UNIT_REMOVAL_PROPERTIES={leading:true,"margin-left":true,"margin-right":true,"text-indent":true};f.SINGLE_WHITESPACE=" ";g.XHTML_NS="http://www.w3.org/1999/xhtml";h.parseVersion=function(a){return a.replace(/(^|\D)(\d+)(?=\D|$)/g,
function(a,b,c){a=b;for(b=4-c.length;b>=0;b--)a=a+"0";return a+c})};h.MIN_FLASH_VERSION=h.parseVersion("8");i.prototype={getFlashElement:function(){return document.getElementById(this.id)},getAlternate:function(){return document.getElementById(this.id+"_alternate")},getAncestor:function(){var a=this.getFlashElement().parentNode;return!this.sIFR.dom.hasClass(b,a)?a:a.parentNode},available:function(){var a=this.getFlashElement();return a&&a.parentNode},call:function(a){var b=this.getFlashElement();
return Function.prototype.apply.call(b[a],b,Array.prototype.slice.call(arguments,1))},attempt:function(){if(!this.available())return false;try{this.call.apply(this,arguments)}catch(a){if(this.sIFR.debug)throw a;return false}return true},updateVars:function(a,b){for(var c=0;c<this.vars.length;c++)if(this.vars[c].split("=")[0]==a){this.vars[c]=a+"="+b;break}c=this.sIFR.util.encodeVars(this.vars);this.movie.injectVars(this.getFlashElement(),c);this.movie.injectVars(this.movie.html,c)},storeSize:function(a,
b){this.movie.setSize(a,b);this.updateVars(a,b)},fireEvent:function(a){this.available()&&this.__events[a]&&this.sIFR.util.delay(0,this.__events[a],this,this)},resizeFlashElement:function(a,b,c){if(this.available()){this.__resizing++;var d=this.getFlashElement();d.setAttribute("height",a);this.updateVars("renderheight",a);this.storeSize("height",a);if(b!==null){d.setAttribute("width",b);this.movie.setSize("width",b)}if(this.__events.onReplacement){this.sIFR.util.delay(0,this.__events.onReplacement,
this,this);delete this.__events.onReplacement}c?this.sIFR.util.delay(0,function(){this.attempt("scaleMovie");this.__resizing--},this):this.__resizing--}},blurFlashElement:function(){this.available()&&this.sIFR.dom.blurElement(this.getFlashElement())},resetMovie:function(){this.sIFR.util.delay(0,this.movie.reset,this.movie,this.getFlashElement(),this.getAlternate())},resizeAfterScale:function(){this.available()&&this.__resizing==0&&this.sIFR.util.delay(0,this.resize,this)},resize:function(){if(this.available()){this.__resizing++;
var a=this.getFlashElement(),b=a.offsetWidth;if(b!=0){var c=a.getAttribute("width"),d=a.getAttribute("height"),f=this.getAncestor(),g=this.sIFR.dom.getHeightFromStyle(f);a.style.width="1px";a.style.height="1px";f.style.minHeight=g+"px";for(var h=this.getAlternate().childNodes,g=[],i=0;i<h.length;i++){var l=h[i].cloneNode(true);g.push(l);f.appendChild(l)}h=this.sIFR.dom.getWidthFromStyle(f);for(i=0;i<g.length;i++)f.removeChild(g[i]);a.style.width=a.style.height=f.style.minHeight="";a.setAttribute("width",
this.__forceWidth?h:c);a.setAttribute("height",d);if(sIFR.ua.ie){a.style.display="none";a.style.display=""}if(h!=b){this.__forceWidth&&this.storeSize("width",h);this.attempt("resize",h)}this.__resizing--}}},replaceText:function(a,b){var c=this.sIFR.util.escape(a);if(!this.attempt("replaceText",c))return false;this.updateVars("content",c);c=this.getAlternate();if(b){for(;c.firstChild;)c.removeChild(c.firstChild);for(var d=0;d<b.length;d++)c.appendChild(b[d])}else try{c.innerHTML=a}catch(f){}return true},
changeCSS:function(a){a=this.sIFR.util.escape(this.sIFR.util.cssToString(this.sIFR.util.convertCssArg(a)));this.updateVars("css",a);return this.attempt("changeCSS",a)},remove:function(){this.movie&&this.available()&&this.movie.remove(this.getFlashElement(),this.id)}};var M=new function(){function c(d,f,j,g,h,i,l,o,q){d=d.dom.create("object",a);i=["type","application/x-shockwave-flash","id",h,"name",h,"data",i,"width",l,"height",o];for(h=0;h<i.length;h=h+2)d.setAttribute(i[h],i[h+1]);i=d;if(g){i=y.create("div",
b);i.appendChild(d)}for(h=0;h<q.length;h=h+2)if(q[h]!="name"){g=y.create("param");g.setAttribute("name",q[h]);g.setAttribute("value",q[h+1]);d.appendChild(g)}for(;j.firstChild;)j.removeChild(j.firstChild);j.appendChild(i);this.html=i.cloneNode(true)}function d(b,c,f,j,g,h,i,l,o){this.dom=b.dom;this.broken=c;this.html='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="'+g+'" width="'+i+'" height="'+l+'" class="'+a+'"><param name="movie" value="'+h+'"></param></object>';b="";for(c=0;c<
o.length;c=c+2)b=b+('<param name="'+o[c]+'" value="'+o[c+1]+'"></param>');this.html=this.html.replace(/(<\/object>)/,b+"$1");f.innerHTML=this.html;this.broken.register(f.firstChild)}this.create=function(a,b,f,g,h,i,l,q,m,t,s){return new (a.ua.ie?d:c)(a,b,f,g,h,i,l,q,["flashvars",m,"wmode",t,"bgcolor",s,"allowScriptAccess","always","quality","best"])};c.prototype={reset:function(a){a.parentNode.replaceChild(this.html.cloneNode(true),a)},remove:function(a){a.parentNode.removeChild(a)},setSize:function(a,
b){this.html.setAttribute(a,b)},injectVars:function(a,b){for(var c=a.getElementsByTagName("param"),d=0;d<c.length;d++)if(c[d].getAttribute("name")=="flashvars"){c[d].setAttribute("value",b);break}}};d.prototype={reset:function(a,b){var b=b.cloneNode(true),c=a.parentNode;c.innerHTML=this.html;this.broken.register(c.firstChild);c.appendChild(b)},remove:function(a,b){this.broken.cleanup(b)},setSize:function(a,b){this.html=this.html.replace(a=="height"?/(height)="\d+"/:/(width)="\d+"/,'$1="'+b+'"')},
injectVars:function(a,b){if(a==this.html)this.html=this.html.replace(/(flashvars(=|\"\svalue=)\")[^\"]+/,"$1"+b)}}};this.errors=new function(){}(l);var t=this.util=new f(l),y=this.dom=new g(l),w=this.ua=new h(l),z={fragmentIdentifier:new function(a){function b(){document.title=c}this.fix=a.ua.ieWin&&window.location.hash!="";var c;this.cache=function(){c=document.title};this.restore=function(){this.fix&&setTimeout(b,0)}}(l),pageLoad:new function(a){function b(){try{(a.ua.ie||document.readyState!="loaded"&&
document.readyState!="complete")&&document.documentElement.doScroll("left")}catch(c){return setTimeout(b,10)}d()}function d(){if(a.useStyleCheck){q=a.dom.create("div",c);a.dom.getBody().appendChild(q);f()}else a.ua.mustCheckStyle||g(null,true)}function f(){if(a.dom.getComputedStyle(q,"marginLeft")=="42px"){q&&q.parentNode&&q.parentNode.removeChild(q);q=null;g(null,true)}else setTimeout(f,10)}function g(b,c){a.initialize(c);if(b&&b.type=="load"){document.removeEventListener&&document.removeEventListener("DOMContentLoaded",
g,false);window.removeEventListener&&window.removeEventListener("load",g,false)}}function h(){a.prepareClearReferences();if(document.readyState=="interactive"){document.attachEvent("onstop",i);setTimeout(function(){document.detachEvent("onstop",i)},0)}}function i(){document.detachEvent("onstop",i);l()}function l(){a.clearReferences()}var q=null;this.attach=function(){window.addEventListener?window.addEventListener("load",g,false):window.attachEvent("onload",g);if(a.useDomLoaded&&!(a.ua.forcePageLoad||
a.ua.ie&&window.top!=window))a.ua.nativeDomLoaded?document.addEventListener("DOMContentLoaded",d,false):(a.ua.ie||a.ua.khtml)&&b()};this.attachUnload=function(){if(a.ua.ie){window.attachEvent("onbeforeunload",h);window.attachEvent("onunload",l)}}}(l),prefetch:new function(a){var b=false;this.fetchMovies=function(c){if(!a.setPrefetchCookie||!/;?sifrFetch=true;?/.test(document.cookie)){try{b=true;for(var d=0;d<c.length;d++)document.write('<script defer type="sifr/prefetch" src="'+c[d].src+'"><\/script>')}catch(f){if(a.debug)throw f;
}if(a.setPrefetchCookie)document.cookie="sifrFetch=true;path="+a.cookiePath}};this.clear=function(){if(b)try{for(var a=document.getElementsByTagName("script"),c=a.length-1;c>=0;c--){var d=a[c];d.type=="sifr/prefetch"&&d.parentNode.removeChild(d)}}catch(f){}}}(l),brokenFlashIE:new function(a){var b=a.ua.ie,c=b&&a.ua.flashVersion<a.ua.parseVersion("9.0.115"),d={},f={};this.fixFlash=c;this.register=function(a){if(b){var g=a.getAttribute("id");this.cleanup(g,false);f[g]=a;delete d[g];c&&(window[g]=a)}};
this.reset=function(){if(!b)return false;for(var c=0;c<a.replacements.length;c++){var g=a.replacements[c],h=f[g.id];if(!d[g.id]&&(!h.parentNode||h.parentNode.nodeType==11)){g.resetMovie();d[g.id]=true}}return true};this.cleanup=function(a,b){var d=f[a];if(d){for(var g in d)typeof d[g]=="function"&&(d[g]=null);f[a]=null;c&&(window[a]=null);if(d.parentNode)if(b&&d.parentNode.nodeType==1){g=document.createElement("div");g.style.width=d.offsetWidth+"px";g.style.height=d.offsetHeight+"px";d.parentNode.replaceChild(g,
d)}else d.parentNode.removeChild(d)}};this.prepareClearReferences=function(){if(c){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}}};this.clearReferences=function(){if(c)for(var a=document.getElementsByTagName("object"),b=a.length-1;b>=0;b--)f[a[b].getAttribute("id")]=a[b];for(var d in f)Object.prototype[d]!=f[d]&&this.cleanup(d,true)}}(l)};this.__resetBrokenMovies=z.brokenFlashIE.reset;var K={kwargs:[],replaceAll:function(a){for(var b=0;b<this.kwargs.length;b++)l.replace(this.kwargs[b]);
if(!a)this.kwargs=[]}};this.activate=function(){var a;if(!(a=!w.supported))if(!(a=!this.isEnabled))if(!(a=this.isActive))if(!(a=!m()))if(document.location.protocol=="file:"){l.debug&&l.errors.fire("isFile");a=true}else a=false;if(!a){z.prefetch.fetchMovies(arguments);this.isActive=true;this.setFlashClass();z.fragmentIdentifier.cache();z.pageLoad.attachUnload();this.autoInitialize&&z.pageLoad.attach()}};this.setFlashClass=function(){if(!this.hasFlashClassSet){y.addClass("sIFR-active",y.getBody()||
document.documentElement);this.hasFlashClassSet=true}};this.removeFlashClass=function(){if(this.hasFlashClassSet){y.removeClass("sIFR-active",y.getBody());y.removeClass("sIFR-active",document.documentElement);this.hasFlashClassSet=false}};this.initialize=function(a){if(this.isActive&&this.isEnabled)if(E)a||K.replaceAll(false);else{E=true;K.replaceAll(a);l.repaintOnResize&&(window.addEventListener?window.addEventListener("resize",q,false):window.attachEvent("onresize",q));z.prefetch.clear()}};this.replace=
function(a,b){var c,f,g,h;if(w.supported){b&&(a=t.copyProperties(a,b));if(!E)return K.kwargs.push(a);if(this.onReplacementStart)this.onReplacementStart(a);var k=a.elements||y.querySelectorAll(a.selector);if(k.length!=0){var q;q=a.src;w.ie&&q.charAt(0)=="/"&&(q=window.location.toString().replace(/([^:]+)(:\/?\/?)([^\/]+).*/,"$1$2$3")+q);var m=t.convertCssArg(a.css),H,L=a.filters,Q=[];for(H in L)if(L[H]!=Object.prototype[H]){var N=L[H];H=[H.replace(/filter/i,"")+"Filter"];for(var u in N)N[u]!=Object.prototype[u]&&
H.push(u+":"+t.escape(t.toJson(N[u],t.toHexString)));Q.push(H.join(","))}H=t.escape(Q.join(";"));u=a.forceSingleLine===true;var L=a.preventWrap===true&&!u,N=(Q=u||(a.fitExactly==null?this.fitExactly:a.fitExactly)===true)||(a.forceWidth==null?this.forceWidth:a.forceWidth)===true,r=a.ratios||[],ea=a.pixelFont===true,R=parseInt(a.tuneHeight)||0,C=!!a.onRelease||!!a.onRollOver||!!a.onRollOut;Q&&t.extractFromCss(m,".sIFR-root","text-align",true);var J=t.extractFromCss(m,".sIFR-root","font-size",true)||
"0",O=t.extractFromCss(m,".sIFR-root","background-color",true)||"#FFFFFF",ha=t.extractFromCss(m,".sIFR-root","kerning",true)||"",aa=t.extractFromCss(m,".sIFR-root","opacity",true)||"100",ja=t.extractFromCss(m,".sIFR-root","cursor",true)||"default",ga=parseInt(t.extractFromCss(m,".sIFR-root","leading"))||0,ka=a.gridFitType||t.extractFromCss(m,".sIFR-root","text-align")=="right"?"subpixel":"pixel",na=this.forceTextTransform===false?"none":t.extractFromCss(m,".sIFR-root","text-transform",true)||"none",
J=/^\d+(px)?$/.test(J)?parseInt(J):0,aa=parseFloat(aa)<1?100*parseFloat(aa):aa,ia=a.modifyCss?"":t.cssToString(m),X=a.wmode||"";X||(a.transparent?X="transparent":a.opaque&&(X="opaque"));X=="transparent"&&(w.transparencySupport?O="transparent":X="opaque");for(var fa=0;fa<k.length;fa++){var P=k[fa];if(!y.hasOneOfClassses(d,P)&&!y.ancestorHasClass(P,"sIFR-alternate")){var T=y.getDimensions(P),I=T.height,T=T.width;g=y.getComputedStyle(P,"display");if(I&&T&&g&&g!="none"){var T=y.getWidthFromStyle(P),A;
if(J){A=J;h=1}else{g=P;var F=A=void 0;if(w.ie){if(w.ie){A=y.getComputedStyle(g,"fontSize");if(A.indexOf("px")>0)A=parseInt(A);else{h=g.innerHTML;g.style.visibility="visible";g.style.overflow="visible";g.style.position="static";g.style.zoom="normal";g.style.writingMode="lr-tb";g.style.width=g.style.height="auto";g.style.maxWidth=g.style.maxHeight=g.style.styleFloat="none";F=g;if(I=g.currentStyle.hasLayout){g.innerHTML='<div class="sIFR-layout">X<br>X<br>X</div>';F=g.firstChild}else g.innerHTML="X<br>X<br>X";
c=F.getClientRects();A=c[1].bottom-c[1].top;A=Math.ceil(A*0.8);if(I){g.innerHTML='<div class="sIFR-layout">'+h+"</div>";F=g.firstChild}else g.innerHTML=h;c=F.getClientRects();F=c.length;if(I)g.innerHTML=h;g.style.visibility=g.style.width=g.style.height=g.style.maxWidth=g.style.maxHeight=g.style.overflow=g.style.styleFloat=g.style.position=g.style.zoom=g.style.writingMode=""}}}else{A=y.getStyleAsInt(g,"lineHeight");F=Math.floor(y.getStyleAsInt(g,"height")/A)}g=A;h=F;A=Math.min(this.MAX_FONT_SIZE,Math.max(this.MIN_FONT_SIZE,
g));ea&&(A=Math.max(8,8*Math.round(A/8)));if(isNaN(h)||!isFinite(h)||h==0)h=1;h>1&&ga&&Math.round((h-1)*ga)}g=y.create("span","sIFR-alternate");I=P.cloneNode(true);P.parentNode.appendChild(I);F=0;for(c=I.childNodes.length;F<c;F++)g.appendChild(I.childNodes[F].cloneNode(true));a.modifyContent&&a.modifyContent(I,a.selector);a.modifyCss&&(ia=a.modifyCss(m,I,a.selector));c=na;var U=a.uriEncode,U=U||t.uriEncode;f=[];for(var da=[],F=null,ba=I.childNodes,la=false,V=false,W=0;W<ba.length;){var G=ba[W];if(G.nodeType==
3){var Y=t.textTransform(c,t.normalize(G.nodeValue)).replace(/</g,"&lt;");la&&V&&(Y=Y.replace(/^\s+/,""));da.push(Y);la=/\s$/.test(Y);V=false}if(G.nodeType==1&&!/^(style|script)$/i.test(G.nodeName)){var V=[],Y=G.nodeName.toLowerCase(),S=G.className||"";/\s+/.test(S)&&(S=S.indexOf("sIFR-class")>-1?S.match("(\\s|^)sIFR-class-([^\\s$]*)(\\s|$)")[2]:S.match(/^([^\s]+)/)[1]);S!=""&&V.push('class="'+S+'"');if(Y=="a"){var S=U(G.getAttribute("href")||""),ma=G.getAttribute("target")||"";V.push('href="'+S+
'"','target="'+ma+'"');F||(F={href:S,target:ma})}da.push("<"+Y+(V.length>0?" ":"")+V.join(" ")+">");V=true;if(G.hasChildNodes()){f.push(W);W=0;ba=G.childNodes;continue}else/^(br|img)$/i.test(G.nodeName)||da.push("</",G.nodeName.toLowerCase(),">")}if(f.length>0&&!G.nextSibling){do{W=f.pop();ba=G.parentNode.parentNode.childNodes;(G=ba[W])&&da.push("</",G.nodeName.toLowerCase(),">")}while(W==ba.length-1&&f.length>0)}W++}c=da.join("").replace(/^\s+|\s+$|\s*(<br>)\s*/g,"$1");f=F||{};I.parentNode.removeChild(I);
a.modifyContentString&&(c=a.modifyContentString(c,a.selector));if(c!=""){I=Math.round(h*A);h=Math.round(h*s(A,r)*A)+this.FLASH_PADDING_BOTTOM+R;F=N?T:"100%";U="sIFR_replacement_"+D++;A=["id="+U,"content="+t.escape(c),"width="+T,"height="+I,"renderheight="+h,"link="+t.escape(f.href||""),"target="+t.escape(f.target||""),"size="+A,"css="+t.escape(ia),"cursor="+ja,"tunewidth="+(a.tuneWidth||0),"tuneheight="+R,"offsetleft="+(a.offsetLeft||""),"offsettop="+(a.offsetTop||""),"fitexactly="+Q,"preventwrap="+
L,"forcesingleline="+u,"antialiastype="+(a.antiAliasType||""),"thickness="+(a.thickness||""),"sharpness="+(a.sharpness||""),"kerning="+ha,"gridfittype="+ka,"flashfilters="+H,"opacity="+aa,"blendmode="+(a.blendMode||""),"selectable="+(a.selectable==null||X!=""&&!sIFR.ua.macintosh&&sIFR.ua.gecko&&sIFR.ua.geckoVersion>=sIFR.ua.parseVersion("1.9")?"true":a.selectable===true),"fixhover="+(this.fixHover===true),"events="+C,"delayrun="+z.brokenFlashIE.fixFlash,"version="+this.VERSION];T=t.encodeVars(A);
A=new i(l,U,A,N,{onReplacement:a.onReplacement,onRollOver:a.onRollOver,onRollOut:a.onRollOut,onRelease:a.onRelease});A.movie=M.create(sIFR,z.brokenFlashIE,P,w.fixFocus&&a.fixFocus,U,q,F,h,T,X,O);this.replacements.push(A);this.replacements[U]=A;a.selector&&(this.replacements[a.selector]?this.replacements[a.selector].push(A):this.replacements[a.selector]=[A]);g.setAttribute("id",U+"_alternate");P.appendChild(g);y.addClass("sIFR-replaced",P)}}}}z.fragmentIdentifier.restore()}}};this.getReplacementByFlashElement=
function(a){for(var b=0;b<l.replacements.length;b++)if(l.replacements[b].id==a.getAttribute("id"))return l.replacements[b]};this.redraw=function(){for(var a=0;a<l.replacements.length;a++)l.replacements[a].resetMovie()};this.prepareClearReferences=function(){z.brokenFlashIE.prepareClearReferences()};this.clearReferences=function(){z.brokenFlashIE.clearReferences();K=z=null;delete l.replacements}},parseSelector=function(){function a(h,l){for(var l=l||document.documentElement,m=h.split(c),s=[],M=0;M<
m.length;M++){var t=[l],y;y=m[M].replace(d,"$1").replace(f,"$1*$2").replace(g,b).match(i)||[];for(var w=0;w<y.length;){var z=y[w++],K=y[w++],j="";if(y[w]=="("){for(;y[w++]!=")"&&w<y.length;)j=j+y[w];j=j.slice(0,-1)}t=a.selectors[z]?a.selectors[z](t,K,j):[]}s=s.concat(t)}return s}function b(a){return a.replace(h,"$1 ")}var c=/\s*,\s*/,d=/\s*([\s>+~(),]|^|$)\s*/g,f=/([\s>+~,]|[^(]\+|^)([#.:@])/g,g=/(^|\))[^\s>+~]/g,h=/(\)|^)/,i=/[\s#.:>+~()@]|[^\s#.:>+~()@]+/g,m={toArray:function(a){for(var b=[],c=
0;c<a.length;c++)b.push(a[c]);return b}},s={isTag:function(a,b){return b=="*"||b.toLowerCase()==a.nodeName.toLowerCase()},previousSiblingElement:function(a){do a=a.previousSibling;while(a&&a.nodeType!=1);return a},nextSiblingElement:function(a){do a=a.nextSibling;while(a&&a.nodeType!=1);return a},hasClass:function(a,b){return(b.className||"").match("(^|\\s)"+a+"(\\s|$)")},getByTag:function(a,b){return b.getElementsByTagName(a)}};a.selectors={"#":function(a,b){for(var c=0;c<a.length;c++)if(a[c].getAttribute("id")==
b)return[a[c]];return[]}," ":function(a,b){for(var c=[],d=0;d<a.length;d++)c=c.concat(m.toArray(s.getByTag(b,a[d])));return c},">":function(a,b){for(var c=[],d=0,f;d<a.length;d++){f=a[d];for(var g=0,h;g<f.childNodes.length;g++){h=f.childNodes[g];h.nodeType==1&&s.isTag(h,b)&&c.push(h)}}return c},".":function(a,b){for(var c=[],d=0,f;d<a.length;d++){f=a[d];s.hasClass([b],f)&&c.push(f)}return c},":":function(b,c,d){return a.pseudoClasses[c]?a.pseudoClasses[c](b,d):[]}};a.pseudoClasses={};a.util=m;a.dom=
s;return a}();if(!navigator.platform||!("MacPPC"==navigator.platform&&BrowserObject.Engine.gecko19)){var gotham={src:"/resources/assets/flash/gotham.swf"};sIFR.activate(gotham);sIFR.replace(gotham,{wmode:"transparent",forceWidth:!0,selector:"h1#global-header",css:{".sIFR-root":{"font-size":"28px",color:"#FFFFFF","text-transform":"uppercase"}}})}
var FlashDetect={version:{Major:0,Minor:0,Revision:0},isIE:-1!=navigator.appVersion.indexOf("MSIE")?!0:!1,isWin:-1!=navigator.appVersion.toLowerCase().indexOf("win")?!0:!1,isOpera:-1!=navigator.userAgent.indexOf("Opera")?!0:!1,GetSwfVer:function(){var a=[];if(navigator.plugins!=null&&navigator.plugins.length>0){for(x=0;x<navigator.plugins.length;x++)navigator.plugins[x].name.indexOf("Shockwave Flash")>=0&&a.push(navigator.plugins[x]);var b=[0,0,0];for(x=0;x<a.length;x++){var c=a[x].description.split(" "),
d=c[2].split(".");d.push(parseInt(c[c.length-1].substr(1,c[c.length-1].length)));var c=parseInt(d[0]),f=parseInt(d[1]),d=parseInt(d[2]),d=[c,f,d];if(d[0]>b[0]||d[0]==b[0]&&d[1]>b[1]||d[0]==b[0]&&d[1]==b[1]&&d[2]>b[2])b=d}this.version.Major=b[0];this.version.Minor=b[1];this.version.Revision=b[2]}else if(navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1)flashVer=4;else if(navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1)flashVer=3;else if(navigator.userAgent.toLowerCase().indexOf("webtv")!=
-1)flashVer=2;else if(FlashDetect.isIE&&FlashDetect.isWin&&!FlashDetect.isOpera){flashVer=this.ControlVersion();if(flashVer==-1)return this.version;flashVerString=flashVer+"";flashVerString.indexOf("WIN")>=0&&(flashVer=flashVerString.substr(flashVerString.indexOf("WIN")+4,flashVerString.length));b=flashVer.split(",");this.version.Major=b[0];this.version.Minor=b[1];this.version.Revision=b[2]}return this.version},ControlVersion:function(){var a,b;try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.9");
a=b.GetVariable("$version")}catch(c){}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.8");a=b.GetVariable("$version")}catch(d){}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");a=b.GetVariable("$version")}catch(f){}if(!a)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");a="WIN 6,0,21,0";b.AllowScriptAccess="always";a=b.GetVariable("$version")}catch(g){}if(!a)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");a=b.GetVariable("$version")}catch(h){}if(!a)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");
a="WIN 3,0,18,0"}catch(i){}if(!a)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");a="WIN 2,0,0,11"}catch(m){a=-1}return a},DetectVersion:function(a,b,c){var d=this.GetSwfVer();return d.Major>a||d.Major==a&&d.Minor>b||d.Major==a&&d.Minor==b&&d.Revision>=c}},GamefinderParams={keyword:"",featured:"1",genre:"0",platform:"0",rating:"0",sort:"ReleaseDate_DESC"};function rand(a){return Math.floor(Math.random()*a+1)}function hideFlashPromo(){Ubisoft.Homepage.loadGamefinder()}
function trim(a){return a.replace(/^\s+|\s+$/g,"")}
Ubisoft.Homepage={Cookie:{getValue:function(){return Cookie.read("gamefinderagegate")?Cookie.read("gamefinderagegate"):-1},setValue:function(a){Cookie.write("gamefinderagegate",a)}},init:function(){$$("a.anim-link").each(function(a){a.addEvent("mouseenter",function(){this.getElement("span").addClass("on");this.getElement("span").removeClass("off")});a.addEvent("mouseleave",function(){this.getElement("span").addClass("off");this.getElement("span").removeClass("on")})});Ubisoft.settings.hasFlash=FlashDetect.DetectVersion(Ubisoft.settings.flash.version,
Ubisoft.settings.flash.rev,Ubisoft.settings.flash.build);Ubisoft.settings.hasFlash?this.openPromotion():$("flash-container").addClass("noflash")},openPromotion:function(){Ubisoft.Homepage.initFlashArea();$("game-finder").setStyles({width:"100%"});document.getElementById("locale").firstChild.nodeValue.substr(0,2).toLowerCase();trim(document.getElementById("locale").firstChild.nodeValue.toLowerCase());trim(jQuery("#dvTakeover").html()).length>0?jQuery("#game-finder-flash").html(jQuery("#dvTakeover").html()):
hideFlashPromo()},closePromotion:function(){dialog.hide();Ubisoft.Homepage.loadGamefinder()},initFlashArea:function(){if($("flash-container").getStyle("height")=="0px"){$("flash-container").setStyles({"border-bottom":"none",height:"auto"});$("game-finder").setStyles({height:446,width:996})}$("primary-spotlight").setStyle("display","none")},loadGamefinder:function(){Ubisoft.Homepage.initFlashArea();$("game-finder").setStyles({width:996});var a={configUrl:"http://cdn.webperflab.com/2012/grayfox/a4/www.ubi.com/config/application.xml",configUrlMain:"http://cdn.webperflab.com/2012/grayfox/a4/www.ubi.com/config/mainApplication.07312012.xml",
search:escape(JSON.encode(GamefinderParams))};swfobject.embedSWF("http://cdn.webperflab.com/2012/grayfox/a4/www.ubi.com/resources/assets/flash/main.swf?"+rand(1E6),"game-finder-flash",996,441,"9.0.0",null,a,{wmode:"opaque",align:"middle",scale:"noscale",allowFullScreen:"false",allowScriptAccess:"sameDomain",play:"true",quality:"high"},{})}};window.addEvent("domready",function(){Ubisoft.Homepage.init()});function openWindow(a,b){var c=window.open(a,b);c?c.focus():Ubisoft.Gamefinder.openWindowFromSwf(a,b)}
var ubi_system="WEB",ubi_umon_domain,ubi_umon_protocol,ubi_iid;function ubi_check_screen(){if(!self.screen)return"";var a="hres="+escape(screen.width)+"&vres="+escape(screen.height)+"&ahres="+escape(screen.availWidth)+"&avres="+escape(screen.availHeight)+"&depth="+escape(screen.colorDepth);screen.bufferDepth&&(a=a+("&bufferDepth="+escape(screen.bufferDepth)));return a}
function ubi_check_language(){return self.navigator.userLanguage?"userLang="+escape(navigator.userLanguage)+"&sysLang="+escape(navigator.systemLanguage)+"&browserLang="+escape(navigator.browserLanguage):""}function ubi_check_referer(){return document.referrer?encodeURIComponent(document.referrer):""}function ubi_check_cpu(){return navigator.cpuClass?"cpu="+escape(navigator.cpuClass):""}
function ubi_check_cookie(){var a=navigator.cookieEnabled?true:false;if(typeof navigator.cookieEnabled=="undefined"&&!a){document.cookie="ubitestcookie";a=document.cookie.indexOf("ubitestcookie")!=-1?true:false}return"cookie="+a}
function ubi_check_flash(){if(navigator.plugins&&navigator.plugins.length){var a=navigator.plugins["Shockwave Flash"];if(a&&a.description)return"flash="+a.description.charAt(a.description.indexOf(".")-1);if(navigator.plugins["Shockwave Flash 2.0"])return"flash=2"}for(a=12;a>0;a--)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+a);return"flash="+a}catch(b){}return""}
function ubi_check_silverlight(){var a="",b=null;try{var c=null;if(window.navigator.userAgent.indexOf("MSIE")>=0)c=new ActiveXObject("AgControl.AgControl");else if(navigator.plugins["Silverlight Plug-In"]){b=document.createElement("div");document.body.appendChild(b);b.innerHTML='<embed type="application/x-silverlight" src="data:," />';c=b.childNodes[0]}c&&(c.isVersionSupported("1.1")?a="1.1":c.isVersionSupported("1.0")&&(a="1.0"))}catch(d){}b&&document.body.removeChild(b);return a!=""?"silverlight="+
a:""}function readCookie(a){for(var a=a+"=",b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];d.charAt(0)==" ";)d=d.substring(1,d.length);if(d.indexOf(a)==0)return d.substring(a.length,d.length)}return null}
function ubi_get_url(a,b){var c="";readCookie("ubisession")||(c="&sattribute="+escape(ubi_check_screen())+escape("&"+ubi_check_language())+escape("&"+ubi_check_cookie())+escape("&"+ubi_check_flash())+escape("&"+ubi_check_cpu())+escape("&"+ubi_check_silverlight())+escape("&js=true"));ubi_umon_domain||(ubi_umon_domain="uts.ubi.com");ubi_umon_domain==""&&(ubi_umon_domain="uts.ubi.com");ubi_umon_protocol||(ubi_umon_protocol="http");ubi_umon_protocol==""&&(ubi_umon_protocol="http");c=ubi_umon_protocol+
"://"+ubi_umon_domain+"/stats.ashx?system="+ubi_system+"&tag="+escape(a)+"&ref="+ubi_check_referer()+"&value="+b+c+"&version=3.0&cacheid="+Math.floor(Math.random()*1E5);ubi_iid&&(c=c+("&iid="+ubi_iid));return c}function ubi_do_WT_stat(a,b,c,d){var f=window;if(!a)a=f.ubi_tag;if(!b)b=f.ubi_system;b||(b="webtrack");c||(c=f.ubi_actionvalue?f.ubi_actionvalue:"");if(a&&b){a=ubi_get_url(a,c);d?(new Image).src=a:document.write("<div style='display:none;'><img src='"+a+"' alt='' /></div>")}}
function ubi_do_WT_stat_silent(a,b,c){c?ubi_do_WT_stat(a,b,c,true):ubi_do_WT_stat(a,b,"",true)}function hide_gsawatermark(){if(document.getElementById("q").value=="SEARCH"){e=document.getElementById("q");e.value=""}}function show_gsawatermark(){if(document.getElementById("q").value==""){e=document.getElementById("q");e.value="SEARCH"}}function trim(a,b){return ltrim(rtrim(a,b),b)}function ltrim(a,b){return a.replace(RegExp("^["+(b||"\\s")+"]+","g"),"")}
function rtrim(a,b){return a.replace(RegExp("["+(b||"\\s")+"]+$","g"),"")}function goGSASearch(){var a=trim(document.getElementById("q").value);if(a=="SEARCH"||a==""){document.getElementById("q").value="";document.getElementById("q").focus();return false}return true}var isIE6=!1;if(/MSIE (\d+\.\d+);/.test(navigator.userAgent))var ieversion=new Number(RegExp.$1),isIE6=6==ieversion;function Interact(a,b){if(isIE6)a.className=b==1?"submit over":"submit"};
